# GH TODO: These should get moved into files based on the vanilla ones

tradition_lodge_dominance = {
	category = societal
	
	layers = {
		0 = steward
		1 = mena
		4 = council.dds
	}
	
	can_pick = {
		has_cultural_pillar = heritage_damotan
	}
	parameters = {
		unlocks_lodge_mechanics = yes
	}
	county_modifier = {
		monthly_county_control_growth_add = 0.3
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
		}
	}

	ai_will_do = { value = 100 }
}

tradition_literary_divergence = {
	category = societal
	
	parameters = {
		poet_trait_more_common = yes
		characters_are_better_court_poets = yes
		innovation_from_learning_traits = yes
		can_appoint_court_scholar = yes
	}
	character_modifier = {
		monthly_learning_lifestyle_xp_gain_mult = 0.2
		learning_per_piety_level = 1
	}
	layers = {
		0 = diplo
		1 = western
		4 = quill.dds
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
		}
	}

	ai_will_do = { value = 100 }
}

tradition_ardara = {
	category = societal
	
	layers = {
		0 = martial
		1 = indian
		4 = soldiers.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_kikarsag
		trigger_if = {
			limit = {
				OR = {
					NOT = { exists = scope:replacing }
					NOT = { scope:replacing = flag:tradition_warrior_culture }
				}
			}
			NOT = { has_cultural_tradition = tradition_warrior_culture } #To prevent stacking after hybridization
		}
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
	}
	
	parameters = {
		ardara_positive_trait_modifiers = yes
		ardara_negative_trait_modifiers = yes
		can_raid_even_if_feudal = yes
		unlock_plunder_intent = yes
		sending_gifts_to_vassals_and_courtiers_gives_prestige = yes
		has_access_to_trials_by_combat = yes
		#has_access_to_familial_extermination = yes
	}
	character_modifier = {
		cultural_head_fascination_mult = -0.1
		ai_boldness = 25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							GH_is_any_tribal_government_trigger = yes
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_tribal_desc
				}
			}
		}
	}

	ai_will_do = { value = 100 }
}

tradition_botai = {
	category = societal
	
	layers = {
		0 = martial
		1 = mena
		4 = horses.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_kikarsag
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
	}
	
	parameters = {
		encouraged_old_ruler_abdication = yes
		enables_alatans = yes
		#enables_khatan_succession = yes
		strong_traits_more_valued = yes
		strong_traits_more_common = yes
		weak_traits_looked_down_upon = yes
		rowdy_trait_more_common = yes
		pensive_trait_less_common = yes
	}
	character_modifier = {
		max_loot_mult = 0.25
		knight_effectiveness_mult = 0.25
		ai_boldness = 25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							GH_is_any_tribal_government_trigger = yes
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_tribal_desc
				}
			}
		}
	}

	ai_will_do = { value = 100 }
}

tradition_bloodhounds_of_aversaria = {
	category = societal
	
	layers = {
		0 = intrigue
		1 = mena
		4 = battle.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_kikarsag
		# Can only be taken by the Sycharcegs and their descendant cultures
		OR = {
			has_cultural_tradition = tradition_bloodhounds_of_aversaria
			any_parent_culture_or_above = {
				has_cultural_tradition = tradition_bloodhounds_of_aversaria
			}
		}
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
	}
	
	parameters = {
		bloodhounds_of_aversaria_positive_trait_modifiers = yes
		bloodhounds_of_aversaria_negative_trait_modifiers = yes
		can_purge_counties = yes
		purging_counties_gives_prestige = yes
		executing_different_culture_characters_gives_prestige = yes
	}
	character_modifier = {
		monthly_county_control_growth_add = 0.4
		different_culture_opinion = -30
		opinion_of_different_culture = -30
		ai_compassion = -50
		ai_boldness = 25
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.50
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							GH_is_any_tribal_government_trigger = yes
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_tribal_desc
				}
			}
		}
	}

	ai_will_do = { value = 100 }
}

tradition_legacy_of_aversaria = {
	category = societal
	
	layers = {
		0 = magic
		1 = mediterranean
		4 = laurel.dds
	}
	
	is_shown = {
		any_parent_culture = {
			has_cultural_tradition = tradition_legacy_of_aversaria
		}
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_blood_magi }
		NOT = { has_cultural_tradition = tradition_purity_of_blood }
		NOT = { has_cultural_tradition = tradition_legacy_of_aversaria_lesser }
	}
	
	parameters = {
		blood_arcana_5_spellcasting_add = yes
		blood_2_province_spellcasting_add = yes
		arcana_education_more_valued = yes
		living_magic_mutation_positive_trait_modifiers = yes
		arcana_education_better_outcomes = yes
		culture_characters_more_magically_potent = yes
		better_and_cheaper_magi_recruitment = yes
		marriages_with_purity_of_blood_cultures_yield_better_magic = yes
		dislikes_marrying_impure_cultures = yes
		#blood_senate_succession_enabled = yes #GH TODO: Reimplement Blood Senate
		magocracy_government_enabled = yes
		expensive_convert_to_local_culture = yes
		harder_to_hybridize = yes
		legon_titles_enabled = yes
		more_magic_focused_vassals = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.5
	}
	character_modifier = {
		monthly_arcana_lifestyle_xp_gain_mult = 0.2
		different_culture_opinion = -10
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:heritage_aversarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_aversarian_heritage_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 4
								culture = prev
								primary_title.tier >= tier_county
								blood_aspect_skill_trigger = { VALUE = 5 }
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_living_magic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_legacy_of_aversaria_lesser = {
	category = societal
	
	layers = {
		0 = magic
		1 = mediterranean
		4 = laurel.dds
	}
	
	is_shown = {
		any_parent_culture = {
			has_cultural_tradition = tradition_legacy_of_aversaria_lesser
		}
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_blood_magi }
		NOT = { has_cultural_tradition = tradition_purity_of_blood }
		NOT = { has_cultural_tradition = tradition_legacy_of_aversaria }
	}
	
	parameters = {
		blood_arcana_5_spellcasting_add = yes
		blood_1_province_spellcasting_add = yes
		arcana_education_more_valued = yes
		living_magic_mutation_positive_trait_modifiers = yes
		arcana_education_better_outcomes = yes
		culture_characters_more_magically_potent = yes
		better_and_cheaper_magi_recruitment = yes
		marriages_with_purity_of_blood_cultures_yield_better_magic = yes
		dislikes_marrying_impure_cultures_lesser = yes
		blood_senate_succession_enabled = yes
		magocracy_government_enabled = yes
		expensive_convert_to_local_culture_lesser = yes
		harder_to_hybridize_lesser = yes
		legon_titles_enabled = yes
		more_magic_focused_vassals = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.25
	}
	character_modifier = {
		monthly_arcana_lifestyle_xp_gain_mult = 0.1
		different_culture_opinion = -5
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:heritage_aversarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_aversarian_heritage_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 4
								culture = prev
								primary_title.tier >= tier_county
								blood_aspect_skill_trigger = { VALUE = 5 }
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_living_magic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_northern_pragmatism = {
	category = societal
	
	layers = {
		0 = intrigue
		1 = western
		4 = city.dds
	}
	
	is_shown = {
		any_parent_culture = {
			has_cultural_tradition = tradition_northern_pragmatism
		}
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_isolationist }
	}
	
	parameters = {
		northern_pragmatism_positive_trait_modifiers = yes
		cynical_trait_more_common = yes
		intrigue_education_prestige_and_tax_modifiers = yes
		intrigue_education_better_outcomes = yes
	}
	character_modifier = {
		character_capital_county_monthly_development_growth_add = 0.05
		enemy_hostile_scheme_phase_duration_add = minor_scheme_phase_duration_bonus_value
		same_culture_opinion = 5
		different_culture_opinion = -10
		diplomatic_range_mult = -0.25
		ai_war_chance = -0.5
		ai_war_cooldown = 5
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:heritage_aversarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_aversarian_heritage_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 4
								culture = prev
								primary_title.tier >= tier_county
								blood_aspect_skill_trigger = { VALUE = 5 }
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_living_magic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_opakhasian_opulence = {
	category = societal
	
	layers = {
		0 = diplo
		1 = mediterranean
		4 = food.dds
	}
	
	is_shown = {
		any_parent_culture = {
			has_cultural_tradition = tradition_opakhasian_opulence
		}
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_festivities }
		NOT = { has_cultural_tradition = tradition_culinary_art }
	}
	
	parameters = {
		opakhasian_opulence_positive_trait_modifiers = yes
		reveler_traits_more_valued = yes
		reveler_traits_more_common = yes
		arrogant_trait_more_common = yes
		gluttonous_trait_more_common = yes
		more_expensive_feasts = yes
		more_frequent_feasts = yes
		refined_feasts = yes
		renown_from_feasts = yes
		prestige_from_temple_construction = yes
	}
	character_modifier = {
		court_grandeur_baseline_add = 5
		monthly_income_mult = -0.05
		ai_amenity_target_baseline = 0.75
		ai_amenity_spending = 1
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:heritage_aversarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_aversarian_heritage_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 4
								culture = prev
								primary_title.tier >= tier_county
								blood_aspect_skill_trigger = { VALUE = 5 }
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_living_magic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_opulence = {
	category = societal
	
	layers = {
		0 = diplo
		1 = mediterranean
		4 = food.dds
	}
	
	is_shown = {
		any_parent_culture = {
			has_cultural_tradition = tradition_opulence
		}
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_festivities }
		NOT = { has_cultural_tradition = tradition_culinary_art }
	}
	
	parameters = {
		opakhasian_opulence_positive_trait_modifiers = yes
		reveler_traits_more_valued = yes
		reveler_traits_more_common = yes
		arrogant_trait_more_common = yes
		more_expensive_feasts = yes
		more_frequent_feasts = yes
		refined_feasts = yes
		renown_from_feasts = yes
	}
	character_modifier = {
		court_grandeur_baseline_add = 5
		monthly_income_mult = -0.05
		ai_amenity_target_baseline = 0.75
		ai_amenity_spending = 1
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 4
								culture = prev
								primary_title.tier >= tier_county
								blood_aspect_skill_trigger = { VALUE = 5 }
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

#### MAGIC TRADITIONS ###

tradition_blood_magi = {
	category = societal
	
	layers = {
		0 = magic
		1 = mediterranean
		4 = blood.dds
	}
	
	is_shown = {
		always = yes
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_legacy_of_aversaria }
		NOT = { has_cultural_tradition = tradition_legacy_of_aversaria_lesser }
	}
	
	parameters = {
		blood_arcana_5_spellcasting_add = yes
		blood_2_province_spellcasting_add = yes
		arcana_education_more_valued = yes
		living_magic_mutation_positive_trait_modifiers = yes
		arcana_education_better_outcomes = yes
	}
	character_modifier = {
		monthly_arcana_lifestyle_xp_gain_mult = 0.2
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 4
								culture = prev
								primary_title.tier >= tier_county
								blood_aspect_skill_trigger = { VALUE = 5 }
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_living_magic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_purity_of_blood = {
	category = societal
	
	layers = {
		0 = magic
		1 = mediterranean
		4 = greeting.dds
	}
	
	is_shown = {
		always = yes
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_legacy_of_aversaria }
		NOT = { has_cultural_tradition = tradition_legacy_of_aversaria_lesser }
	}
	
	parameters = {
		culture_characters_more_magically_potent = yes
		better_and_cheaper_magi_recruitment = yes
		marriages_with_purity_of_blood_cultures_yield_better_magic = yes
		dislikes_marrying_impure_cultures = yes
		magocracy_government_enabled = yes
		expensive_convert_to_local_culture = yes
		harder_to_hybridize = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_steppe_queens = {
	category = societal

	layers = {
		0 = learning
		1 = mediterranean
		4 = amazon.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_sarminian
		OR = {
			is_target_in_global_variable_list = {
				name = culture_retained_steppe_queens_tradition
				target = this
			}
			any_parent_culture_or_above = {
				is_target_in_global_variable_list = {
					name = culture_retained_steppe_queens_tradition
					target = this
				}
			}
			NOR = {
				is_target_in_global_variable_list = {
					name = culture_adopted_sisters_of_iron_tradition
					target = this
				}
				is_target_in_global_variable_list = {
					name = culture_adopted_mercenary_queens_tradition
					target = this
				}
				is_target_in_global_variable_list = {
					name = culture_adopted_braided_oaths_tradition
					target = this
				}
				any_parent_culture_or_above = {
					OR = {
						is_target_in_global_variable_list = {
							name = culture_adopted_sisters_of_iron_tradition
							target = this
						}
						is_target_in_global_variable_list = {
							name = culture_adopted_mercenary_queens_tradition
							target = this
						}
						is_target_in_global_variable_list = {
							name = culture_adopted_braided_oaths_tradition
							target = this
						}
					}
				}
			}
		}
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = cannot_have_tradition_sisters_of_iron
			NOT = { culture_tradition:tradition_sisters_of_iron = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_mercenary_queens
			NOT = { culture_tradition:tradition_mercenary_queens = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_braided_oaths
			NOT = { culture_tradition:tradition_braided_oaths = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_female_only_inheritance
			NOT = { culture_tradition:tradition_female_only_inheritance = { is_in_list = traits } }
		}
		scope:character = {
			primary_title = {
				NOR = {
					has_title_law = male_only_law
					has_title_law = male_preference_law
				}
			}
			NOR = {
				has_realm_law = male_only_law
				has_realm_law = male_preference_law
			}
		}
	}

	parameters = {
		female_only_inheritance = yes
		female_preference_inheritance = yes
		steppe_queens_revered = yes
		can_sear_prisoners = yes
		better_male_educators = yes
	}

	character_modifier = {
		opinion_of_female_rulers = 10
		opinion_of_male_rulers = -20
		archer_cavalry_maintenance_mult = -0.15
		herd_conversion = -0.025
		ai_boldness = 25
		ai_honor = -20
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = { scope:character = { is_ai = no } }
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = { always = no }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = five_female_rulers_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = { NOT = { scope:character = { is_female = yes } } }
			multiply = 0
		}
	}
}

tradition_sisters_of_iron = {
	category = societal

	layers = {
		0 = martial
		1 = indian
		4 = iron_cavalry.dds
	}
	
	is_shown = {
		OR = {
			is_target_in_global_variable_list = {
				name = culture_adopted_sisters_of_iron_tradition
				target = this
			}
			any_parent_culture_or_above = {
				is_target_in_global_variable_list = {
					name = culture_adopted_sisters_of_iron_tradition
					target = this
				}
			}
		}
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = cannot_have_tradition_steppe_queens
			NOT = { culture_tradition:tradition_steppe_queens = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_mercenary_queens
			NOT = { culture_tradition:tradition_mercenary_queens = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_braided_oaths
			NOT = { culture_tradition:tradition_braided_oaths = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_female_only_inheritance
			NOT = { culture_tradition:tradition_female_only_inheritance = { is_in_list = traits } }
		}
		scope:character = {
			primary_title = {
				NOR = {
					has_title_law = male_only_law
					has_title_law = male_preference_law
				}
			}
			NOR = {
				has_realm_law = male_only_law
				has_realm_law = male_preference_law
			}
		}
	}

	parameters = {
		female_only_inheritance = yes
		female_preference_inheritance = yes
		steppe_queens_revered = yes
		can_sear_prisoners = yes
		better_male_educators = yes
		smiths_heavy_cavalry_bonus = yes
		expensive_convert_to_local_culture = yes
	}

	character_modifier = {
		opinion_of_female_rulers = 10
		opinion_of_male_rulers = -30
		revolting_siege_morale_loss_mult = 0.25
		heavy_cavalry_max_size_add = 2
		ai_boldness = 25
		ai_honor = -20
		ai_compassion = -20
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
	}

	province_modifier = {
		stationed_heavy_cavalry_damage_mult = 0.15
		stationed_heavy_cavalry_siege_value_add = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = { scope:character = { is_ai = no } }
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = { always = no }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = five_female_rulers_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = { NOT = { scope:character = { is_female = yes } } }
			multiply = 0
		}
	}
}

tradition_mercenary_queens = {
	category = societal

	layers = {
		0 = intrigue
		1 = mena
		4 = bow.dds
	}
	
	is_shown = {
		OR = {
			is_target_in_global_variable_list = {
				name = culture_adopted_mercenary_queens_tradition
				target = this
			}
			any_parent_culture_or_above = {
				is_target_in_global_variable_list = {
					name = culture_adopted_mercenary_queens_tradition
					target = this
				}
			}
		}
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = cannot_have_tradition_steppe_queens
			NOT = { culture_tradition:tradition_steppe_queens = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_sisters_of_iron
			NOT = { culture_tradition:tradition_sisters_of_iron = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_braided_oaths
			NOT = { culture_tradition:tradition_braided_oaths = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_female_only_inheritance
			NOT = { culture_tradition:tradition_female_only_inheritance = { is_in_list = traits } }
		}
		scope:character = {
			primary_title = {
				NOR = {
					has_title_law = male_only_law
					has_title_law = male_preference_law
				}
			}
			NOR = {
				has_realm_law = male_only_law
				has_realm_law = male_preference_law
			}
		}
	}
	
	parameters = {
		female_only_inheritance = yes
		female_preference_inheritance = yes
		steppe_queens_revered = yes
		steppe_queens_mercenary_bonus = yes
		can_sear_prisoners = yes
		unlock_voluntary_laampdom = yes
		much_more_likely_to_be_laamps = yes
		mercenary_courtiers_gain_extra_skills = yes
		unlocks_contract_assistance = yes
	}

	culture_modifier = {
		mercenary_count_mult = 2.5
	}

	character_modifier = {
		opinion_of_female_rulers = 10
		opinion_of_male_rulers = -20
		prowess_per_prestige_level = 4
		ai_boldness = 40
		ai_energy = 20
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = { scope:character = { is_ai = no } }
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = { always = no }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = five_female_rulers_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = { NOT = { scope:character = { is_female = yes } } }
			multiply = 0
		}
	}
}

tradition_braided_oaths = {
	category = societal

	layers = {
		0 = intrigue
		1 = western
		4 = crown.dds
	}
	
	is_shown = {
		OR = {
			is_target_in_global_variable_list = {
				name = culture_adopted_braided_oaths_tradition
				target = this
			}
			any_parent_culture_or_above = {
				is_target_in_global_variable_list = {
					name = culture_adopted_braided_oaths_tradition
					target = this
				}
			}
		}
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_tooltip = {
			text = cannot_have_tradition_steppe_queens
			NOT = { culture_tradition:tradition_steppe_queens = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_sisters_of_iron
			NOT = { culture_tradition:tradition_sisters_of_iron = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_mercenary_queens
			NOT = { culture_tradition:tradition_mercenary_queens = { is_in_list = traits } }
		}
		custom_tooltip = {
			text = cannot_have_tradition_female_only_inheritance
			NOT = { culture_tradition:tradition_female_only_inheritance = { is_in_list = traits } }
		}
		scope:character = {
			primary_title = {
				NOR = {
					has_title_law = male_only_law
					has_title_law = male_preference_law
				}
			}
			NOR = {
				has_realm_law = male_only_law
				has_realm_law = male_preference_law
			}
		}
	}
	
	parameters = {
		female_only_inheritance = yes
		female_preference_inheritance = yes
		gender_equal_inheritance = yes
		steppe_queens_revered = yes
		steppe_queens_oaths_bonus = yes
		can_sear_prisoners = yes
		just_trait_more_common = yes
		just_trait_gives_bonuses = yes
	}

	character_modifier = {
		opinion_of_female_rulers = 10
		monthly_county_control_growth_factor = 0.2
		ai_honor = 20
		ai_sociability = 20
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = { scope:character = { is_ai = no } }
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = { always = no }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = five_female_rulers_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = { NOT = { scope:character = { is_female = yes } } }
			multiply = 0
		}
	}
}

tradition_sammalriq = {
	category = societal
	
	layers = {
		0 = martial
		1 = indian
		4 = soldiers.dds
	}
	
	is_shown = {
		has_cultural_pillar = heritage_marmaladid
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
	}
	
	parameters = {
		can_raid_even_if_feudal = yes
		can_distribute_raid_loot_for_prestige_and_development = yes
		sending_gifts_to_vassals_and_courtiers_gives_prestige = yes
		desert_warrior_trait_more_common = yes
		dry_trait_bonuses = yes
		can_recruit_dry_specialist = yes
	}
	character_modifier = {
		ai_boldness = 25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							GH_is_any_tribal_government_trigger = yes
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_tribal_desc
				}
			}
		}
	}

	ai_will_do = { value = 100 }
}

tradition_bounty_of_ureha = {
	category = societal

	layers = {
		0 = intrigue
		1 = western
		4 = farmland.dds
	}

	is_shown = {
		any_parent_culture = {
			has_cultural_tradition = tradition_bounty_of_ureha
		}
	}

	can_pick = {
		NOR = { 
			has_cultural_tradition = tradition_warriors_of_velos 
			has_cultural_tradition = tradition_skalds_of_zamistra
		}
	}

	parameters = {
		bounty_of_ureha_positive_trait_modifiers = yes
		hard_working_traits_more_valued = yes
		martial_education_worse_outcomes = yes
	}
	character_modifier = {
		monthly_income_mult = 0.04
		development_growth_factor = 0.15
		church_holding_build_gold_cost = -0.1
		tribal_holding_build_gold_cost = -0.1
		general_opinion = 5
		knight_effectiveness_mult = -0.25
		skirmishers_max_size_add = -1
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:heritage_sjalvolki = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_sjalvolki_heritage_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = { value = 100 }
}

tradition_skalds_of_zamistra = {
	category = societal

	layers = {
		0 = steward
		1 = western
		4 = conversation.dds
	}


	is_shown = {
		any_parent_culture = {
			has_cultural_tradition = tradition_skalds_of_zamistra
		}
	}

	can_pick = {
		NOR = { 
			has_cultural_tradition = tradition_bounty_of_ureha 
			has_cultural_tradition = tradition_warriors_of_velos
		}
	}

	parameters = {
		skalds_of_zamistra_positive_trait_modifiers = yes
		bonuses_from_patriarch_matriarch_trait = yes
		trait_county_opinion_modifiers = yes
		cannot_attack_allies = yes
		cannot_attack_truces = yes
		poet_trait_more_common = yes
	}

	character_modifier = {
		same_culture_opinion = 15
		general_opinion = 5
		monthly_income_mult = -0.02
		skirmishers_damage_mult = -0.10
		men_at_arms_recruitment_cost = 0.15
	}

	culture_modifier = {
		cultural_acceptance_gain_mult = 0.15
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:heritage_sjalvolki = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_sjalvolki_heritage_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
}

tradition_beloved_bastards = {
	category = societal

	layers = {
		0 = steward
		1 = mena
		4 = council.dds
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_child = {
								count > 5
								OR = {
									has_trait = bastard
									has_trait = legitimized_bastard
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = otached_lawbreaker_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}
	parameters = {
		reduced_cost_legitimization = yes
		reduced_bastard_trait_penalties = yes
		bastard_court_performance = yes
		##unlanded_bastards_want_land = yes
	}
}
tradition_glass_smiths = {
	category = societal
	layers = {
		0 = steward 
		1 = mediterranean
		4 = tools.dds
	}
	is_shown = {
		any_parent_culture_or_above = {
 		 this = culture:zelkavani
		}  
	}

	can_pick = {
		any_parent_culture_or_above = {
 		 this = culture:zelkavani
		}

	}
	parameters = {
		glass_house_duchy_building = yes
		access_to_glass_smith_traits = yes
		characters_glass_traits_can_make_glass_artifacts = yes
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
		}		
	}
	ai_will_do = { value = 100 }
}

tradition_idealistic_past = {
	category = societal

	layers = {
		0 = learning
		1 = mena
		4 = ceremony.dds
	}

	can_pick = {
		any_parent_culture = {
			has_cultural_tradition = tradition_idealistic_past
		}
	}
	
	character_modifier = {
		monthly_prestige_gain_mult = 0.1
		development_growth_factor = -0.2
		same_culture_opinion = 5
	}
	parameters = {
		arrogant_trait_more_common = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = poet
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_poet_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
	}
}

tradition_proud_history = {
	category = societal

	layers = {
		0 = learning
		1 = mena
		4 = ceremony.dds
	}

	can_pick = {
		any_parent_culture = {
			has_cultural_tradition = tradition_proud_history
		}
		NOT = { has_cultural_tradition = tradition_storytellers }
	}
	
	character_modifier = {
		monthly_prestige_gain_mult = 0.1
		different_culture_opinion = -5
	}
	parameters = {
		time_arcana_5_spellcasting_add = yes
		better_ward_education = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								has_trait = poet
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_poet_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
	}
}

tradition_settlers_of_krehejad = {
	category = societal
	
	layers = {
		0 = diplo
		1 = mediterranean
		4 = conversation.dds
	}
	
	is_shown = {
		any_parent_culture = {
			has_cultural_tradition = tradition_settlers_of_krehejad
		}
	}
	
	parameters = {
		krehejad_tolerance = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:heritage_aversarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_aversarian_heritage_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}

tradition_islander = {
	category = societal

	layers = {
		0 = martial
		1 = western
		4 = ship.dds
	}
	
	can_pick = {
		any_parent_culture = { has_cultural_tradition = tradition_islander }
		custom_description = {
			text = percentage_of_culture_on_coast_desc
			any_culture_county = {
				percent >= 0.5
				any_county_province = { is_coastal = yes }
			}
		}
		NOT = { has_cultural_tradition = tradition_fishermen }
		NOT = { has_cultural_tradition = tradition_seafaring }
	}
	
	parameters = {
		can_travel_along_rivers = yes
		coastal_holdings_give_defensive_bonus = yes
		trade_ports_give_levies = yes
		trade_ports_enabled_for_tribals = yes
		islander_colonization_bonus = yes

	}
	character_modifier = {
		embarkation_cost_mult = -0.50
		coastal_advantage = 5
		archipelagic_advantage = 5
		archipelagic_travel_danger = medium_sea_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.7
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = high_coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = { # Make stacking a bit less common
			limit = {
				OR = {
					has_cultural_tradition = tradition_maritime_mercantilism
					has_cultural_tradition = tradition_fishermen
				}
			}
			multiply = 0.75
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						percent >= 0.7
						any_county_province = {
							is_coastal = yes
						}
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_mystical_midwives = {
	category = societal
	
	layers = {
		0 = learning
		1 = indian
		4 = shieldmaiden.dds
	}
	can_pick = {
		NOT = { has_cultural_tradition = tradition_blood_magi }
		NOT = { has_cultural_tradition = tradition_purity_of_blood }
		NOT = { has_cultural_tradition = tradition_legacy_of_aversaria_lesser }
		NOT = { has_cultural_tradition = tradition_legacy_of_aversaria }
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
		}
	}
	ai_will_do = {
		value = 100
	
		if = {
			limit = {
				NOT = {
					scope:character.faith = {
						has_doctrine = doctrine_magic_honored
					}
				}
			}
			multiply = 0.4
		}
	}
	parameters = {
		blood_arcana_5_spellcasting_add = yes
		blood_1_province_spellcasting_add = yes
		arcana_education_better_outcomes = yes
		culture_parameter_tradition_mystical_midwives = yes
	}
}

tradition_wasteland_reclaimers = {
	category = societal

	layers = {
		0 = learning
		1 = western
		4 = desert_mountains.dds
	}
	
	parameters = {
		can_colonize_even_if_tribal = yes
		wasteland_reclaimers_colonization_bonus = yes
		wasteland_reclaimers_colonization_speed_bonus = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						NOT = { any_neighboring_and_across_water_top_liege_realm_owner = { has_trait = gh_wasteland } }
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = does_not_border_wasteland_desc
				}
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 0 }
}

tradition_mutant_outcasts = {
	category = societal

	layers = {
		0 = martial
		1 = indian
		4 = speech.dds
	}

	is_shown = {
		any_parent_culture_or_above = { this = culture:skolix }
	}

	character_modifier = {
		defender_advantage = 5
		different_culture_opinion = -20
	}
	
	parameters = {
		mutant_outcasts_colonization_bonus = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}

tradition_painted_burghers = {
	category = societal

	layers = {
		0 = steward
		1 = indian
		4 = ship.dds
	}

	is_shown = {
		any_parent_culture_or_above = { this = culture:dadkawji }
	}
	
	can_pick = {
		any_parent_culture_or_above = {
 			this = culture:dadkawji
		}
	}

	parameters = {
		members_have_tattoos = yes
		next_level_trade_ports = yes
		maritime_mercantilism_coastal_holdings = yes
		maritime_mercantilism_avaricious_bonus = yes
		wanderers_gain_extra_economic_skills = yes
	}

	character_modifier = {
		stewardship = 2
		republic_government_vassal_opinion = 10
		levy_size = -0.1
		garrison_size = -0.1
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_stoic_or_bureaucratic_desc
				}
			}
			# Coastal requirement.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						percent >= 0.6
						any_county_province = {
							is_coastal = yes
						}
					}
				}
			}
			add = 50
		}
		if = { # Make stacking a bit less common
			limit = {
				OR = {
					culture_tradition:tradition_seafaring = { is_in_list = traits }
					culture_tradition:tradition_fishermen = { is_in_list = traits }
				}
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						is_coastal = yes
					}
				}
			}
			multiply = 2
		}
	}
}

tradition_starbound_sojourners = {
	category = societal

	layers = {
		0 = learning
		1 = indian
		4 = beacon_of_learning.dds
	}

	is_shown = {
		any_parent_culture_or_above = { this = culture:iafarana }
	}
	
	can_pick = {
		any_parent_culture_or_above = {
 			this = culture:iafarana
		}
	}

	parameters = {
		members_have_tattoos = yes
		trade_ports_give_control_growth = yes
		trade_ports_give_levies = yes
		can_travel_along_rivers = yes
		trade_ports_enabled_for_tribals = yes
		water_arcana_6_spellcasting_add = yes
		innovation_from_learning_traits = yes
	}

	character_modifier = {
		embarkation_cost_mult = -0.9
		learning = 2
		sea_travel_danger = medium_sea_danger_reduction
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_bureaucratic_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.7
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = high_coastal_percentage_desc
				}
			}

			if = {
				limit = {
					scope:character = {
						has_variable = tradition_seafaring_travel_discount
					}
					
				}

				add = {
					value = tradition_travel_discount
					desc = tradition_travel_discount_desc
				}
			}

			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 200
		if = { # Make stacking more less common
			limit = {
				OR = {
					culture_tradition:tradition_maritime_mercantilism = { is_in_list = traits }
					culture_tradition:tradition_fishermen = { is_in_list = traits }
				}
			}
			multiply = 2
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
		else_if = {
			limit = {
				any_culture_county = {
					percent >= 0.6
					any_county_province = {
						is_coastal = yes
					}
				}
			}
			multiply = 8
		}
	}
}