#####################
# Gemstone Features #
#####################

# Gem Types

	gemstone_type_sunstone = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:sunstone
			}
		}
		weight = 20
	}
	
	gemstone_type_citrine = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:citrine
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 50 MAX = 999 }
			}
		}
		weight = 20
	}
	
	gemstone_type_chrysoberyl = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:chrysoberyl
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 50 MAX = 999 }
			}
		}
		weight = 20
	}
	
	gemstone_type_black_zircon = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:black_zircon
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 30 MAX = 999 }
			}
		}
		weight = 20
	}
	
	gemstone_type_red_zircon = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:red_zircon
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 30 MAX = 999 }
			}
		}
		weight = 20
	}
	
	gemstone_type_yellow_zircon = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:yellow_zircon
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 20 MAX = 70 }
			}
		}
		weight = 20
	}
	
	gemstone_type_brown_zircon = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:brown_zircon
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 50 MAX = 999 }
			}
		}
		weight = 5
	}
	
	gemstone_type_green_zircon = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:green_zircon
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 80 MAX = 999 }
			}
		}
		weight = 5
	}
	
	gemstone_type_clear_zircon = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:clear_zircon
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 80 MAX = 999 }
			}
		}
		weight = 5
	}
	
	gemstone_type_blue_zircon = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:blue_zircon
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 80 MAX = 999 }
			}
		}
		weight = 5
	}
	
	gemstone_type_fire_opal = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:fire_opal
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 0 MAX = 60 }
			}
		}
		weight = 20
	}
	
	gemstone_type_cherry_opal = {
		group = gemstone_type
		trigger = { 
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:cherry_opal
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 0 MAX = 60 }
			}
		}
		weight = 20
	}
	
	gemstone_type_sapphire = {
		group = gemstone_type
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:sapphire
			}
			trigger_else = {
				artifact_value_trigger = { VALUE = scope:wealth MIN = 60 MAX = 999 }
			}
		}
		weight = 20
	}
	
	gemstone_type_manzasiri_obsidian = {
		group = gemstone_type
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_type }
				scope:owner.var:gemstone_type = flag:manzasiri_obsidian
			}
			trigger_else = {
				always = no
			}
		}
		weight = 20
	}

# Cuts
	gemstone_cut_brilliant = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:amethyst
			}
		}
		weight = 4
	}
	
	gemstone_cut_emerald = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:emerald
			}
		}
		weight = 3
	}
	
	gemstone_cut_baguette = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:baguette
			}
		}
		weight = 3
	}
	
	gemstone_cut_briolette = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:briolette
			}
		}
		weight = 2
	}
	
	gemstone_cut_cushion = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:cushion
			}
		}
		weight = 2
	}
	
	gemstone_cut_marquise = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:marquise
			}
		}
		weight = 1
	}
	
	gemstone_cut_octagonal = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:octagonal
			}
		}
		weight = 1
	}
	
	gemstone_cut_oval = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:oval
			}
		}
		weight = 1
	}
	
	gemstone_cut_pear = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:pear
			}
		}
		weight = 1
	}
	
	gemstone_cut_point = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:point
			}
		}
		weight = 1
	}
	
	gemstone_cut_radiant = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:radiant
			}
		}
		weight = 1
	}
	
	gemstone_cut_table = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:table
			}
		}
		weight = 1
	}
	
	gemstone_cut_trilliant = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:trilliant
			}
		}
		weight = 1
	}
	
	gemstone_cut_shard = {
		group = gemstone_cut
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_cut }
				scope:owner.var:gemstone_cut = flag:shard
			}
			trigger_else = {
				always = no
			}
		}
		weight = 1
	}
	
# Magical Texture

	gemstone_magical_texture_swirling = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:swirling
			}
		}
		weight = 3
	}
	
	gemstone_magical_texture_geometric = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:geometric
			}
		}
		weight = 1
	}

	gemstone_magical_texture_fire = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:fire
			}
		}
		weight = {
			value = 1
			if = {
				limit = {
					OR = {
						has_artifact_feature = gemstone_type_sunstone
						has_artifact_feature = gemstone_type_red_zircon
						has_artifact_feature = gemstone_type_green_zircon
						has_artifact_feature = gemstone_type_brown_zircon
						has_artifact_feature = gemstone_type_clear_zircon
						has_artifact_feature = gemstone_type_black_zircon
					}
				}
				add = 10
			}
			if = {
				limit = {
					OR = {
						has_artifact_feature = gemstone_type_yellow_zircon
						has_artifact_feature = gemstone_type_fire_opal
					}
				}
				add = 50
			}
		}
	}
	
	gemstone_magical_texture_water = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:water
			}
		}
		weight = {
			value = 1
			if = {
				limit = {
					OR = {
						has_artifact_feature = gemstone_type_sapphire
					}
				}
				add = 10
			}
		}
	}
	
	gemstone_magical_texture_air = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:air
			}
		}
		weight = 1
	}
	
	gemstone_magical_texture_thunder = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:thunder
			}
		}
		weight = 1
	}
	
	gemstone_magical_texture_vortex = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:vortex
			}
		}
		weight = 1
	}
	
	gemstone_magical_texture_night_sky = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:night_sky
			}
		}
		weight = 1
	}
	
	gemstone_magical_texture_visions = {
		group = gemstone_magical_texture
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_texture }
				scope:owner.var:gemstone_magical_texture = flag:visions
			}
		}
		weight = 1
	}
	
# Magical Aura

	gemstone_magical_aura_hot = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:hot
			}
		}
		weight = {
			value = 1
			if = {
				limit = {
					OR = {
						has_artifact_feature = gemstone_type_sunstone
						has_artifact_feature = gemstone_type_red_zircon
						has_artifact_feature = gemstone_type_green_zircon
						has_artifact_feature = gemstone_type_brown_zircon
						has_artifact_feature = gemstone_type_clear_zircon
						has_artifact_feature = gemstone_type_black_zircon
					}
				}
				add = 10
			}
			if = {
				limit = {
					OR = {
						has_artifact_feature = gemstone_type_yellow_zircon
						has_artifact_feature = gemstone_type_fire_opal
					}
				}
				add = 50
			}
		}
	}
	
	gemstone_magical_aura_cold = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:cold
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_dark = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:dark
			}
		}
		weight = {
			value = 1
			if = {
				limit = {
					OR = {
						has_artifact_feature = gemstone_type_black_zircon
					}
				}
				add = 10
			}
		}
	}
	
	gemstone_magical_aura_wind = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:wind
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_whispers = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:whispers
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_euphoria = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:euphoria
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_melancholy = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:melancholy
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_washes_out_colors = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:washes_out_colors
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_increases_vibrancy = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:increases_vibrancy
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_necromantic = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:necromantic
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_plant_growth = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:plant_growth
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_alluring = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:alluring
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_magic_boosting = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:magic_boosting
			}
		}
		weight = 1
	}
	
	gemstone_magical_aura_anti_magic = {
		group = gemstone_magical_aura
		trigger = {
			trigger_if = {
				limit = { exists = scope:owner.var:gemstone_magical_aura }
				scope:owner.var:gemstone_magical_aura = flag:anti_magic
			}
		}
		weight = 1
	}