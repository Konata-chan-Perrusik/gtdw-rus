increase_clique_authority_effect = {
	if = {
		limit = { has_realm_law_flag = uses_clique_authority }
		#Laws
		if = {
			limit = { has_realm_law = clique_authority_0 }
			add_realm_law = clique_authority_1
		}
		else_if = {
			limit = { has_realm_law = clique_authority_1 }
			add_realm_law = clique_authority_2
		}
		else_if = {
			limit = { has_realm_law = clique_authority_2 }
			add_realm_law = clique_authority_3
		}
	}
}

decrease_clique_authority_effect = {
	if = {
		limit = { has_realm_law_flag = uses_tribal_authority }
		#Laws
		if = {
			limit = { has_realm_law = tribal_authority_3 }
			add_realm_law = tribal_authority_2
		}
		else_if = {
			limit = { has_realm_law = tribal_authority_2 }
			add_realm_law = tribal_authority_1
		}
		else_if = {
			limit = { has_realm_law = tribal_authority_1 }
			add_realm_law = tribal_authority_0
		}
	}
}

create_dynamic_republic_title = {
	create_dynamic_title = {
		tier = kingdom
		name = NEW_CREATED_TITLE_NAME
	}
	create_title_and_vassal_change = {
		type = created
		save_scope_as = change
		add_claim_on_loss = no
	}
	scope:new_title = {
		set_capital_county = scope:ruler.capital_county
		#set_landless_title = yes
		set_destroy_on_gain_same_tier = yes
		set_can_be_named_after_dynasty = no
		set_color_from_title = scope:old_title
		set_coa = scope:old_title
		#set_delete_on_destroy = yes

		set_variable = {
			name = republic_titular_title
			value = scope:old_title
		}
		scope:old_title = {
			set_variable = {
				name = spawned_republic_titular_title
				value = scope:new_title
			}
		}
		change_title_holder = {
			holder = scope:ruler
			change = scope:change
		}
	}
	resolve_title_and_vassal_change = scope:change
	player_heir = {
		trigger_event = {
			id = gh_realm_maintenance.0036
			delayed = yes
		}
	}
	every_courtier = {
		if = {
			limit = {
				#highest_held_title_tier = tier_county
				is_lowborn = no
				government_allows = administrative
				government_has_flag = government_has_powerful_families
				is_house_head = yes
				top_liege = {
					is_independent_ruler = yes
					government_allows = administrative
					government_has_flag = government_has_powerful_families
				}
				NOR = {
					any_held_title = { is_noble_family_title = yes }
					house = {
						any_house_member = {
							any_held_title = { is_noble_family_title = yes }
						}
					}
				}
			}
			create_noble_family_effect = yes
			domicile ?= { set_up_domicile_estate_effect = yes }
			
			create_title_and_vassal_change = {
				type = swear_fealty
				save_scope_as = change
			}
			change_liege = {
				liege = scope:ruler
				change = scope:change
			}
			
			resolve_title_and_vassal_change = scope:change
			
			change_to_administrative_republic_effect = yes
			
		}
	}
}
