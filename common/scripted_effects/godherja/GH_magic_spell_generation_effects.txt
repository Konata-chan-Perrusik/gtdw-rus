# THIS IS A GENERATED FILE.
#
# Source template:
# added_folders/templates/common/scripted_effects/godherja/GH_magic_spell_generation_effects.txt.jinja
#
# Please avoid manually editing this file: your changes WILL be overwritten when it gets regenerated.
# Instead, edit the source template and/or variables, then run render_templates.bat .

###################################
# SPELL ASPECT GENERATION EFFECTS #
###################################

# Generate a random spell
# Executed on magic school level
## Parameters:
### LEVEL - Spell level
### QUALITY - Determines "spare threshold points", i.e. spells with more quality will have effects with lower thresholds and therefore be more powerful
generate_procedural_spell_effect = {
	save_temporary_scope_as = magic_school_scope
	
	# Base spell generation
	create_blank_spell_scripted_effect = yes
	scope:new_spell_scope ?= {
		set_variable = { name = magic_school value = prev }
		generate_spell_aspects_effect = { LEVEL = $LEVEL$ }
		set_spell_cost_effect = { VALUE = standard_spell_cost }
		set_spell_gold_cost_effect = { VALUE = standard_spell_gold_cost }
		spell_post_creation_effect = yes
	}
	
	# Determine overall "type" of spell (positive or negative? character or county? how many effects? etc.)
	random_list = {
		0 = {
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:fire
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:water
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:ice
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:air
			}
			modifier = {
				add = 40
				exists = scope:new_spell_scope.var:stone
			}
			modifier = {
				add = 80
				exists = scope:new_spell_scope.var:dream
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:celestial
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:dark
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:light
			}
			modifier = {
				add = 90
				exists = scope:new_spell_scope.var:blood
			}
			modifier = {
				add = 60
				exists = scope:new_spell_scope.var:nature
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:ethereal
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:hymns
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:death
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:sand
			}
			modifier = {
				add = 30
				exists = scope:new_spell_scope.var:metal
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:time
			}
			modifier = {
				add = 70
				exists = scope:new_spell_scope.var:dawn
			}
			save_scope_value_as = { name = target_type value = flag:character }
		}
		0 = {
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:fire
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:water
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:ice
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:air
			}
			modifier = {
				add = 30
				exists = scope:new_spell_scope.var:stone
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:dream
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:celestial
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:dark
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:light
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:blood
			}
			modifier = {
				add = 35
				exists = scope:new_spell_scope.var:nature
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:ethereal
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:hymns
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:death
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:sand
			}
			modifier = {
				add = 20
				exists = scope:new_spell_scope.var:metal
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:time
			}
			modifier = {
				add = 25
				exists = scope:new_spell_scope.var:dawn
			}
			save_scope_value_as = { name = target_type value = flag:county }
		}
		0 = {
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:fire
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:water
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:ice
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:air
			}
			modifier = {
				add = 30
				exists = scope:new_spell_scope.var:stone
			}
			modifier = {
				add = 15
				exists = scope:new_spell_scope.var:dream
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:celestial
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:dark
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:light
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:blood
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:nature
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:ethereal
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:hymns
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:death
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:sand
			}
			modifier = {
				add = 50
				exists = scope:new_spell_scope.var:metal
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:time
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:dawn
			}
			save_scope_value_as = { name = target_type value = flag:artifact }
		}
	}
	random_list = {
		10 = {
			trigger = { scope:target_type ?= flag:artifact }
			save_scope_value_as = { name = spell_effect_picks value = 1 }
		}
		5 = {
			save_scope_value_as = { name = spell_effect_picks value = 2 }
		}
		4 = {
			trigger = {
				NOR = {
					scope:target_type ?= flag:county
					scope:target_type ?= flag:artifact
				}
			}
			save_scope_value_as = { name = spell_effect_picks value = 3 }
		}
	}
	random_list = {
		0 = {
			modifier = {
				add = 3
				exists = scope:new_spell_scope.var:fire
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:water
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:ice
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:air
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:stone
			}
			modifier = {
				add = 2
				exists = scope:new_spell_scope.var:dream
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:celestial
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:dark
			}
			modifier = {
				add = 5
				exists = scope:new_spell_scope.var:light
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:blood
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:nature
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:ethereal
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:hymns
			}
			modifier = {
				add = 2
				exists = scope:new_spell_scope.var:death
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:sand
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:metal
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:time
			}
			modifier = {
				add = 4
				exists = scope:new_spell_scope.var:dawn
			}
			save_scope_value_as = { name = beneficiality value = flag:positive }
		}
		0 = {
			modifier = {
				add = 2
				exists = scope:new_spell_scope.var:fire
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:water
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:ice
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:air
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:stone
			}
			modifier = {
				add = 2
				exists = scope:new_spell_scope.var:dream
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:celestial
			}
			modifier = {
				add = 2
				exists = scope:new_spell_scope.var:dark
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:light
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:blood
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:nature
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:ethereal
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:hymns
			}
			modifier = {
				add = 3
				exists = scope:new_spell_scope.var:death
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:sand
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:metal
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:time
			}
			modifier = {
				add = 1
				exists = scope:new_spell_scope.var:dawn
			}
			trigger = { NOT = { scope:target_type ?= flag:artifact } }
			save_scope_value_as = { name = beneficiality value = flag:negative }
		}
	}
	random_list = {
		80 = { save_scope_value_as = { name = aspect_alignment_strictness value = 1 } }
		15 = { save_scope_value_as = { name = aspect_alignment_strictness value = 0 } }
		5 = { save_scope_value_as = { name = aspect_alignment_strictness value = -1 } }
	}
	
	# Spell effect assignment
	scope:new_spell_scope ?= {
		# Standard effects
		while = {
			count = scope:spell_effect_picks
			pick_procedural_spell_effect_tag_effect = { BENEFICIALITY = scope:beneficiality TARGET_TYPE = scope:target_type TARGET = target }
		}
		
		# Threshold lowering per quality		
		while = {
			count = $QUALITY$
			random_in_list = {
				variable = spell_effect_list
				limit = { exists = var:scalar_threshold }
				change_variable = {
					name = scalar_threshold
					subtract = 1
				}
			}
		}
		
		# Chance of negative side-effects for beneficial spells
		if = {
			limit = {
				scope:beneficiality ?= flag:positive
			}
			random = {
				chance = {
					value = 50
					multiply = scope:spell_effect_picks
					if = {
						limit = { scope:target_type ?= flag:artifact }
						add = 25
					}
				}
				random_list = {
					1 = {
						pick_procedural_spell_effect_tag_effect = { BENEFICIALITY = flag:negative TARGET_TYPE = flag:character TARGET = caster }
					}
					2 = {
						trigger = { scope:target_type ?= flag:character }
						pick_procedural_spell_effect_tag_effect = { BENEFICIALITY = flag:negative TARGET_TYPE = flag:character TARGET = target }
					}
					2 = {
						trigger = { scope:target_type ?= flag:county }
						pick_procedural_spell_effect_tag_effect = { BENEFICIALITY = flag:negative TARGET_TYPE = flag:county TARGET = target }
					}
				}
			}
		}
		
		# Cap aspects
		cap_procedural_spell_aspects_effect = yes
		
		# Assign components
		generate_procedural_spell_component_list_effect = { COUNT = 2 }
	}
	
	#if = {
	#	limit = { exists = scope:new_spell_scope }
	#	assign_spell_to_magic_school_effect = { SPELL = scope:new_spell_scope }
	#}
}

populate_magic_school_with_procedural_spell_list_effect = {
	while = {
		count = $COUNT$
		random_list = {
			3 = { save_scope_value_as = { name = procedural_spell_level value = 1 } }
			10 = { save_scope_value_as = { name = procedural_spell_level value = 2 } }
			8 = { save_scope_value_as = { name = procedural_spell_level value = 3 } }
			5 = { save_scope_value_as = { name = procedural_spell_level value = 4 } }
			3 = { save_scope_value_as = { name = procedural_spell_level value = 5 } }
		}
		if = {
			limit = { exists = scope:procedural_spell_level }
			generate_procedural_spell_effect = { LEVEL = scope:procedural_spell_level QUALITY = 0 }
			
			if = {
				limit = { exists = scope:new_spell_scope }
				assign_spell_to_magic_school_effect = { SPELL = scope:new_spell_scope }
			}
		}
	}
}

# Generate randomized baseline aspects of a spell
# Needs to be executed in magic school scope
## Parameters:
### LEVEL - Spell level
## Scope Parameters:
### magic_school_scope - If not, will be totally random
generate_spell_aspects_effect = {
	# Determine how many aspects the spell will have
	random_list = {
		4 = {
			save_scope_value_as = {
				name = random_spell_aspect_number_value
				value = 1
			}
		}
		8 = {
			trigger = {
				trigger_if = {
					limit = { has_variable_list = aspect_list }
					variable_list_size = { name = aspect_list value > 1 }
				}
				$LEVEL$ > 1
			}
			save_scope_value_as = {
				name = random_spell_aspect_number_value
				value = 2
			}
			random = {
				chance = 20
				save_scope_value_as = {
					name = non_school_aspect_allowed
					value = yes
				}
			}
		}
		1 = {	# 3-Aspect spells very rare
			trigger = {
				trigger_if = {
					limit = { has_variable_list = aspect_list }
					variable_list_size = { name = aspect_list value > 2 }
				}
				$LEVEL$ > 2
			}
			save_scope_value_as = {
				name = random_spell_aspect_number_value
				value = 3
			}
			random = {
				chance = 30
				save_scope_value_as = {
					name = non_school_aspect_allowed
					value = yes
				}
			}
		}
	}
	# Save remaining aspect points
	save_scope_value_as = {
		name = remaining_spell_level_points
		value = {
			value = $LEVEL$
			subtract = scope:random_spell_aspect_number_value
		}
	}
	scope:new_spell_scope ?= {
		while = {
			count = scope:random_spell_aspect_number_value
			random_list = {
				1 = {
					trigger = {
						NOT = { exists = var:fire }
						OR = {
							exists = var:magic_school.var:fire
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:fire
							multiply = 2
						}
						exists = var:magic_school.var:fire
					}
					add_spell_aspect_effect = { ASPECT = fire TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:fire } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:water }
						OR = {
							exists = var:magic_school.var:water
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:water
							multiply = 2
						}
						exists = var:magic_school.var:water
					}
					add_spell_aspect_effect = { ASPECT = water TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:water } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:ice }
						OR = {
							exists = var:magic_school.var:ice
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:ice
							multiply = 2
						}
						exists = var:magic_school.var:ice
					}
					add_spell_aspect_effect = { ASPECT = ice TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:ice } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:air }
						OR = {
							exists = var:magic_school.var:air
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:air
							multiply = 2
						}
						exists = var:magic_school.var:air
					}
					add_spell_aspect_effect = { ASPECT = air TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:air } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:stone }
						OR = {
							exists = var:magic_school.var:stone
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:stone
							multiply = 2
						}
						exists = var:magic_school.var:stone
					}
					add_spell_aspect_effect = { ASPECT = stone TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:stone } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:dream }
						OR = {
							exists = var:magic_school.var:dream
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:dream
							multiply = 2
						}
						exists = var:magic_school.var:dream
					}
					add_spell_aspect_effect = { ASPECT = dream TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:dream } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:celestial }
						OR = {
							exists = var:magic_school.var:celestial
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:celestial
							multiply = 2
						}
						exists = var:magic_school.var:celestial
					}
					add_spell_aspect_effect = { ASPECT = celestial TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:celestial } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:dark }
						OR = {
							exists = var:magic_school.var:dark
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:dark
							multiply = 2
						}
						exists = var:magic_school.var:dark
					}
					add_spell_aspect_effect = { ASPECT = dark TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:dark } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:light }
						OR = {
							exists = var:magic_school.var:light
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:light
							multiply = 2
						}
						exists = var:magic_school.var:light
					}
					add_spell_aspect_effect = { ASPECT = light TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:light } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:blood }
						OR = {
							exists = var:magic_school.var:blood
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:blood
							multiply = 2
						}
						exists = var:magic_school.var:blood
					}
					add_spell_aspect_effect = { ASPECT = blood TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:blood } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:nature }
						OR = {
							exists = var:magic_school.var:nature
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:nature
							multiply = 2
						}
						exists = var:magic_school.var:nature
					}
					add_spell_aspect_effect = { ASPECT = nature TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:nature } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:ethereal }
						OR = {
							exists = var:magic_school.var:ethereal
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:ethereal
							multiply = 2
						}
						exists = var:magic_school.var:ethereal
					}
					add_spell_aspect_effect = { ASPECT = ethereal TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:ethereal } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:hymns }
						OR = {
							exists = var:magic_school.var:hymns
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:hymns
							multiply = 2
						}
						exists = var:magic_school.var:hymns
					}
					add_spell_aspect_effect = { ASPECT = hymns TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:hymns } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:death }
						OR = {
							exists = var:magic_school.var:death
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:death
							multiply = 2
						}
						exists = var:magic_school.var:death
					}
					add_spell_aspect_effect = { ASPECT = death TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:death } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:sand }
						OR = {
							exists = var:magic_school.var:sand
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:sand
							multiply = 2
						}
						exists = var:magic_school.var:sand
					}
					add_spell_aspect_effect = { ASPECT = sand TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:sand } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:metal }
						OR = {
							exists = var:magic_school.var:metal
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:metal
							multiply = 2
						}
						exists = var:magic_school.var:metal
					}
					add_spell_aspect_effect = { ASPECT = metal TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:metal } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:time }
						OR = {
							exists = var:magic_school.var:time
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:time
							multiply = 2
						}
						exists = var:magic_school.var:time
					}
					add_spell_aspect_effect = { ASPECT = time TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:time } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
				1 = {
					trigger = {
						NOT = { exists = var:dawn }
						OR = {
							exists = var:magic_school.var:dawn
							exists = scope:non_school_aspect_allowed
						}
					}
					modifier = {
						factor = {
							value = var:magic_school.var:dawn
							multiply = 2
						}
						exists = var:magic_school.var:dawn
					}
					add_spell_aspect_effect = { ASPECT = dawn TIER = 1 }
					if = {
						limit = { NOT = { exists = var:magic_school.var:dawn } }
						clear_saved_scope = non_school_aspect_allowed
					}
				}
			}
		}
		while = {
			count = scope:remaining_spell_level_points
			random_list = {
				1 = {
					trigger = {
						exists = var:fire
					}
					modifier = {
						factor = {
							value = var:magic_school.var:fire
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = fire TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:water
					}
					modifier = {
						factor = {
							value = var:magic_school.var:water
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = water TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:ice
					}
					modifier = {
						factor = {
							value = var:magic_school.var:ice
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = ice TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:air
					}
					modifier = {
						factor = {
							value = var:magic_school.var:air
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = air TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:stone
					}
					modifier = {
						factor = {
							value = var:magic_school.var:stone
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = stone TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:dream
					}
					modifier = {
						factor = {
							value = var:magic_school.var:dream
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = dream TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:celestial
					}
					modifier = {
						factor = {
							value = var:magic_school.var:celestial
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = celestial TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:dark
					}
					modifier = {
						factor = {
							value = var:magic_school.var:dark
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = dark TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:light
					}
					modifier = {
						factor = {
							value = var:magic_school.var:light
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = light TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:blood
					}
					modifier = {
						factor = {
							value = var:magic_school.var:blood
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = blood TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:nature
					}
					modifier = {
						factor = {
							value = var:magic_school.var:nature
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = nature TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:ethereal
					}
					modifier = {
						factor = {
							value = var:magic_school.var:ethereal
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = ethereal TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:hymns
					}
					modifier = {
						factor = {
							value = var:magic_school.var:hymns
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = hymns TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:death
					}
					modifier = {
						factor = {
							value = var:magic_school.var:death
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = death TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:sand
					}
					modifier = {
						factor = {
							value = var:magic_school.var:sand
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = sand TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:metal
					}
					modifier = {
						factor = {
							value = var:magic_school.var:metal
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = metal TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:time
					}
					modifier = {
						factor = {
							value = var:magic_school.var:time
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = time TIER = 1 }
				}
				1 = {
					trigger = {
						exists = var:dawn
					}
					modifier = {
						factor = {
							value = var:magic_school.var:dawn
							multiply = 2
						}
					}
					add_spell_aspect_effect = { ASPECT = dawn TIER = 1 }
				}
			}
		}
	}
}

cap_procedural_spell_aspects_effect = {
	if = {
		limit = { exists = var:fire }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:fire
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = fire_max
				value = var:fire
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = fire_max
					value = {
						value = var:fire
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:water }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:water
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = water_max
				value = var:water
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = water_max
					value = {
						value = var:water
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:ice }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:ice
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = ice_max
				value = var:ice
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = ice_max
					value = {
						value = var:ice
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:air }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:air
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = air_max
				value = var:air
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = air_max
					value = {
						value = var:air
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:stone }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:stone
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = stone_max
				value = var:stone
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = stone_max
					value = {
						value = var:stone
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:dream }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:dream
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = dream_max
				value = var:dream
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = dream_max
					value = {
						value = var:dream
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:celestial }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:celestial
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = celestial_max
				value = var:celestial
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = celestial_max
					value = {
						value = var:celestial
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:dark }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:dark
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = dark_max
				value = var:dark
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = dark_max
					value = {
						value = var:dark
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:light }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:light
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = light_max
				value = var:light
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = light_max
					value = {
						value = var:light
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:blood }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:blood
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = blood_max
				value = var:blood
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = blood_max
					value = {
						value = var:blood
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:nature }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:nature
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = nature_max
				value = var:nature
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = nature_max
					value = {
						value = var:nature
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:ethereal }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:ethereal
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = ethereal_max
				value = var:ethereal
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = ethereal_max
					value = {
						value = var:ethereal
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:hymns }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:hymns
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = hymns_max
				value = var:hymns
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = hymns_max
					value = {
						value = var:hymns
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:death }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:death
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = death_max
				value = var:death
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = death_max
					value = {
						value = var:death
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:sand }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:sand
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = sand_max
				value = var:sand
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = sand_max
					value = {
						value = var:sand
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:metal }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:metal
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = metal_max
				value = var:metal
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = metal_max
					value = {
						value = var:metal
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:time }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:time
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = time_max
				value = var:time
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = time_max
					value = {
						value = var:time
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
	if = {
		limit = { exists = var:dawn }
		if = {	# Always cap an aspect if no spell effects use it for scaling
			limit = {
				NOT = {
					any_in_list = {
						variable = spell_effect_list
						OR = {
							var:scalar_1 ?= flag:dawn
							var:scalar_1 ?= flag:total_spell_level
						}
					}
				}
			}
			set_variable = {
				name = dawn_max
				value = var:dawn
			}
		}
		else = {
			random = {
				chance = 50
				set_variable = {
					name = dawn_max
					value = {
						value = var:dawn
						add = { integer_range = { min = 0 max = 5 } }
					}
				}
			}
		}
	}
}

pick_procedural_spell_effect_tag_effect = {
	random_list = {
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_health_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_health_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_health_resistance_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_health_resistance_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_health_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_health_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_health_loss_minor_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_health_loss_minor_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stress_negative } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stress_negative TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stress_positive } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stress_positive TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stress_gain_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stress_gain_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stress_loss_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stress_loss_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_virility_opinion_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_virility_opinion_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_viagra_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_viagra_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_general_boost } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_general_boost TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_diplomacy_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_diplomacy_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_diplomacy_resistance_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_diplomacy_resistance_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_diplomacy_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_diplomacy_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_diplomacy_gain_per_piety_level_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_diplomacy_gain_per_piety_level_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_martial_animal_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_martial_animal_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_martial_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_martial_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_martial_resistance_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_martial_resistance_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_martial_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_martial_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_martial_gain_per_piety_level_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_martial_gain_per_piety_level_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stewardship_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stewardship_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stewardship_resistance_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stewardship_resistance_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stewardship_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stewardship_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stewardship_gain_per_piety_level_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stewardship_gain_per_piety_level_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_intrigue_animal_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_intrigue_animal_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_intrigue_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_intrigue_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_intrigue_resistance_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_intrigue_resistance_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_intrigue_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_intrigue_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_intrigue_gain_per_piety_level_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_intrigue_gain_per_piety_level_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_learning_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_learning_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_learning_resistance_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_learning_resistance_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_learning_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_learning_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_learning_gain_per_piety_level_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_learning_gain_per_piety_level_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_prowess_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_prowess_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_prowess_resistance_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_prowess_resistance_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_prowess_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_prowess_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_prowess_gain_per_piety_level_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_prowess_gain_per_piety_level_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_attraction_opinion_physical_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_attraction_opinion_physical_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_attraction_opinion_social_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_attraction_opinion_social_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_close_relative_opinion_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_close_relative_opinion_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_child_opinion_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_child_opinion_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_spouse_opinion_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_spouse_opinion_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_house_opinion_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_house_opinion_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_dynasty_opinion_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_dynasty_opinion_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_general_opinion_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_general_opinion_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_realm_opinion_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_realm_opinion_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_internal_strife_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_internal_strife_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_external_condemnation_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_external_condemnation_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_diplomacy_magic_modifier_seduction_positive } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_diplomacy_magic_modifier_seduction_positive TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_diplomacy_magic_modifier_seduction_negative } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_diplomacy_magic_modifier_seduction_negative TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_diplomacy_magic_modifier_vassal_opinion_positive } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_diplomacy_magic_modifier_vassal_opinion_positive TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_religious_fanaticism } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_religious_fanaticism TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_melodious_voice_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_melodious_voice_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_glassinger_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_glassinger_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_character_county_opinion_negative_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_character_county_opinion_negative_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_short_reign_duration_mult_positive_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_short_reign_duration_mult_positive_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_court_grandeur_baseline_add_positive_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_court_grandeur_baseline_add_positive_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_character_travel_safety_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_character_travel_safety_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_character_travel_safety_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_character_travel_safety_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_character_travel_speed_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_character_travel_speed_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_travel_advantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_travel_advantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_travel_disadvantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_travel_disadvantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_pane_of_passage_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 1
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 1
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 1
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_pane_of_passage_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_county_travel_danger_advantage_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_county_travel_danger_advantage_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_county_travel_danger_disadvantage_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_county_travel_danger_disadvantage_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_murder_scheme_power_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_murder_scheme_power_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_seduce_scheme_power_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_seduce_scheme_power_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_hostile_scheme_discovery_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_hostile_scheme_discovery_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_vengeance_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_vengeance_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_haunting_power_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_haunting_power_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_brave } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_brave TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_craven } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_craven TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_calm } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_calm TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_wrathful } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_wrathful TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_chaste } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_chaste TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_lustful } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_lustful TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_content } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_content TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_ambitious } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_ambitious TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_diligent } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_diligent TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_lazy } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_lazy TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_fickle } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_fickle TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_stubborn } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_stubborn TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_forgiving } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_forgiving TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_vengeful } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_vengeful TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_generous } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_generous TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_greedy } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_greedy TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_gregarious } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_gregarious TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_shy } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_shy TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_honest } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_honest TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_deceitful } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_deceitful TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_humble } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_humble TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_arrogant } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_arrogant TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_just } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_just TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_arbitrary } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_arbitrary TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_patient } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_patient TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_impatient } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_impatient TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_temperate } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_temperate TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_gluttonous } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_gluttonous TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_trusting } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_trusting TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_paranoid } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_paranoid TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_zealous } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_zealous TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_cynical } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_cynical TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_compassionate } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_compassionate TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_callous } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_callous TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_sadistic } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_sadistic TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_trait_synergy_eccentric } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_trait_synergy_eccentric TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_battle_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_battle_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_enhanced_fatality_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_enhanced_fatality_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_hard_casualty_modifier_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_hard_casualty_modifier_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_hard_casualty_modifier_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_hard_casualty_modifier_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_dry_terrain_advantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_dry_terrain_advantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_forest_terrain_advantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_forest_terrain_advantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_water_magic_advantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_water_magic_advantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_water_magic_disadvantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_water_magic_disadvantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_sailing_magic_advantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_sailing_magic_advantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_sailing_magic_disadvantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_sailing_magic_disadvantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_slow_army_movement_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_slow_army_movement_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_movement_speed_positive_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_movement_speed_positive_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_hasten_raid_speed_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_hasten_raid_speed_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_rocky_terrain_advantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_rocky_terrain_advantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_negate_enemy_advantage_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_negate_enemy_advantage_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_knight_effectiveness_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_knight_effectiveness_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_army_damage_magic_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_army_damage_magic_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_army_damage_negative_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_army_damage_negative_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_army_toughness_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_army_toughness_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magi_siege_value_add_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magi_siege_value_add_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_siege_weapon_siege_value_add_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_siege_weapon_siege_value_add_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_abstruse_survivability_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_abstruse_survivability_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_men_at_arms_recruitment_cost_positive_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_men_at_arms_recruitment_cost_positive_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_siege_phase_time_positive_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_siege_phase_time_positive_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_attacker_advantage_positive_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_attacker_advantage_positive_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_dynasty_prestige_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_dynasty_prestige_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_dynasty_prestige_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_dynasty_prestige_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_income_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_income_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_income_gain_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_income_gain_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_income_loss_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_income_loss_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_piety_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_piety_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_piety_gain_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_piety_gain_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_piety_loss_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_piety_loss_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_prestige_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_prestige_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_prestige_gain_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_prestige_gain_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_prestige_loss_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_prestige_loss_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_omen_diplomacy_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_omen_diplomacy_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_omen_intrigue_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_omen_intrigue_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_omen_martial_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_omen_martial_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_omen_stewardship_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_omen_stewardship_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_omen_learning_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_omen_learning_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_genetics_positive_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_genetics_positive_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magi_siege_value_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magi_siege_value_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_epidemic_resistance_gain_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_epidemic_resistance_gain_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_county_opinion_add_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_county_opinion_add_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_county_opinion_loss_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_county_opinion_loss_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_monthly_county_control_decline_add_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_monthly_county_control_decline_add_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_improve_agriculture_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_improve_agriculture_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_reduce_agriculture_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_reduce_agriculture_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_building_construction_county_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_building_construction_county_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_defensive_county_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_defensive_county_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_decimate_defense_county_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_decimate_defense_county_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_fort_creation_county_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_fort_creation_county_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_long_term_fort_creation_county_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_long_term_fort_creation_county_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_backfire_county_debuff_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_backfire_county_debuff_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_backfire_county_debuff_earth_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_backfire_county_debuff_earth_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_ground_positive_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_ground_positive_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_ground_positive_earth_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_ground_positive_earth_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_ground_positive_earth_long_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_ground_positive_earth_long_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_positive_build_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_positive_build_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_weather_negative_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_weather_negative_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_weather_negative_fire_magic_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_weather_negative_fire_magic_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_defender_advantage_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_defender_advantage_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_lower_control_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_lower_control_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_lower_control_modifier_livestock } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_lower_control_modifier_livestock TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_illuminated_night_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_illuminated_night_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_county_light_pollution_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_county_light_pollution_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_lead_to_gold_inflation_min } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_lead_to_gold_inflation_min TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_lead_to_gold_inflation } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_lead_to_gold_inflation TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_ruined_agriculture_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_ruined_agriculture_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_destroyed_buildings_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_destroyed_buildings_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_fogswept_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_fogswept_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_province_modifier_magic_shattered_defenses_modifier } }
				$TARGET_TYPE$ ?= flag:province
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_province_modifier_magic_shattered_defenses_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_corroded_defenses_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_corroded_defenses_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_glasswinds_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_glasswinds_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_resource_exotic_metals_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_resource_exotic_metals_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_resource_abundant_stone_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_resource_abundant_stone_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_resource_excellent_soil_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_resource_excellent_soil_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_resource_verdant_plant_growth_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_resource_verdant_plant_growth_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_character_monthly_county_control_growth_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_character_monthly_county_control_growth_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_character_capital_county_monthly_development_growth_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_character_capital_county_monthly_development_growth_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_character_build_speed_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_character_build_speed_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_province_modifier_backfire_province_debuff_fire_modifier } }
				$TARGET_TYPE$ ?= flag:province
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_province_modifier_backfire_province_debuff_fire_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_province_modifier_enhanced_farmland_modifier } }
				$TARGET_TYPE$ ?= flag:province
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_province_modifier_enhanced_farmland_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_tyranny_gain_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_tyranny_gain_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_tyranny_loss_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_tyranny_loss_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_tyranny_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_tyranny_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_tyranny_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_tyranny_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_cultural_head_fascination_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_cultural_head_fascination_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_cultural_head_fascination_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_cultural_head_fascination_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_unnatural_shaping_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_unnatural_shaping_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_boneshaping_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_boneshaping_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_defiled_nadir_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_defiled_nadir_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_frozen_experience_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_frozen_experience_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_arcane_incapacitation_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_arcane_incapacitation_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_mind_fog_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_mind_fog_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_life_extension_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_life_extension_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_arcane_degeneration_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_arcane_degeneration_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_bodily_modification_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_bodily_modification_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_levy_reinforcement_rate_gain_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_levy_reinforcement_rate_gain_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_enemy_hostile_scheme_phase_duration_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_enemy_hostile_scheme_phase_duration_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_enemy_hostile_scheme_phase_duration_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_enemy_hostile_scheme_phase_duration_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_scheme_discovery_chance_mult_loss_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_scheme_discovery_chance_mult_loss_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_prestige_gain_per_dread_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_prestige_gain_per_dread_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_dread_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_dread_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monthly_lifestyle_xp_gain_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monthly_lifestyle_xp_gain_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_intrigue_lifestyle_xp_gain_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_intrigue_lifestyle_xp_gain_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stewardship_lifestyle_xp_gain_mult_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stewardship_lifestyle_xp_gain_mult_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_diplomacy_lifestyle_xp_gain_mult_negative_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_diplomacy_lifestyle_xp_gain_mult_negative_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_martial_lifestyle_xp_gain_mult_negative_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_martial_lifestyle_xp_gain_mult_negative_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_stewardship_lifestyle_xp_gain_mult_negative_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_stewardship_lifestyle_xp_gain_mult_negative_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_intrigue_lifestyle_xp_gain_mult_negative_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_intrigue_lifestyle_xp_gain_mult_negative_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_learning_lifestyle_xp_gain_mult_negative_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_learning_lifestyle_xp_gain_mult_negative_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_arcana_lifestyle_xp_gain_mult_negative_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_arcana_lifestyle_xp_gain_mult_negative_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_shard_exhaustion_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_shard_exhaustion_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_communication_shards_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_communication_shards_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_title_creation_cost_mult_positive_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_title_creation_cost_mult_positive_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_resistance_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_resistance_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_penetration_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_penetration_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_battle_death_chance_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_battle_death_chance_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_enemy_knight_kill_chance_magic_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_enemy_knight_kill_chance_magic_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_vassalization_acceptance_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_vassalization_acceptance_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_arcane_fallout_reduction_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_arcane_fallout_reduction_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_county_modifier_magic_habitability_add_modifier } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_county_modifier_magic_habitability_add_modifier TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_raid_capture_improvement_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_raid_capture_improvement_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_health_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_health_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_health_resistance_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_health_resistance_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_health_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_health_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_health_loss_minor_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_health_loss_minor_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stress_negative_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stress_negative_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stress_positive_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stress_positive_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stress_gain_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stress_gain_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stress_loss_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stress_loss_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_virility_opinion_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_virility_opinion_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_viagra_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_viagra_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_general_boost_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_general_boost_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_diplomacy_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_diplomacy_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_diplomacy_resistance_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_diplomacy_resistance_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_diplomacy_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_diplomacy_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_diplomacy_gain_per_piety_level_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_diplomacy_gain_per_piety_level_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_martial_animal_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_martial_animal_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_martial_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_martial_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_martial_resistance_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_martial_resistance_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_martial_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_martial_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_martial_gain_per_piety_level_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_martial_gain_per_piety_level_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stewardship_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stewardship_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stewardship_resistance_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stewardship_resistance_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stewardship_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stewardship_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stewardship_gain_per_piety_level_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stewardship_gain_per_piety_level_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_intrigue_animal_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_intrigue_animal_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_intrigue_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_intrigue_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_intrigue_resistance_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_intrigue_resistance_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_intrigue_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_intrigue_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_intrigue_gain_per_piety_level_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_intrigue_gain_per_piety_level_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_learning_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_learning_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_learning_resistance_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_learning_resistance_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_learning_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_learning_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_learning_gain_per_piety_level_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_learning_gain_per_piety_level_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_prowess_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_prowess_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_prowess_resistance_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_prowess_resistance_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_prowess_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_prowess_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_prowess_gain_per_piety_level_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_prowess_gain_per_piety_level_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_attraction_opinion_physical_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_attraction_opinion_physical_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_attraction_opinion_social_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_attraction_opinion_social_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_close_relative_opinion_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_close_relative_opinion_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_child_opinion_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_child_opinion_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_spouse_opinion_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_spouse_opinion_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_house_opinion_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_house_opinion_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_dynasty_opinion_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_dynasty_opinion_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_general_opinion_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_general_opinion_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_realm_opinion_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_realm_opinion_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_internal_strife_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_internal_strife_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_external_condemnation_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_external_condemnation_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_diplomacy_magic_modifier_seduction_positive_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_diplomacy_magic_modifier_seduction_positive_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_diplomacy_magic_modifier_seduction_negative_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_diplomacy_magic_modifier_seduction_negative_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_diplomacy_magic_modifier_vassal_opinion_positive_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_diplomacy_magic_modifier_vassal_opinion_positive_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_religious_fanaticism_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_religious_fanaticism_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_melodious_voice_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_melodious_voice_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_glassinger_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_glassinger_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_character_county_opinion_negative_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_character_county_opinion_negative_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_short_reign_duration_mult_positive_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_short_reign_duration_mult_positive_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_court_grandeur_baseline_add_positive_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_court_grandeur_baseline_add_positive_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_character_travel_safety_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_character_travel_safety_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_character_travel_safety_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_character_travel_safety_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_character_travel_speed_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_character_travel_speed_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_travel_advantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_travel_advantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_travel_disadvantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_travel_disadvantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_pane_of_passage_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 1
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 1
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 1
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_pane_of_passage_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_murder_scheme_power_add_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_murder_scheme_power_add_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_seduce_scheme_power_add_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_seduce_scheme_power_add_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_hostile_scheme_discovery_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_hostile_scheme_discovery_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_vengeance_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_vengeance_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_haunting_power_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_haunting_power_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_brave_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_brave_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_craven_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_craven_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_calm_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_calm_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_wrathful_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_wrathful_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_chaste_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_chaste_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_lustful_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_lustful_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_content_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_content_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_ambitious_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_ambitious_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_diligent_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_diligent_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_lazy_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_lazy_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_fickle_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_fickle_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_stubborn_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_stubborn_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_forgiving_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_forgiving_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_vengeful_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_vengeful_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_generous_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_generous_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_greedy_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_greedy_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_gregarious_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_gregarious_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_shy_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_shy_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_honest_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_honest_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_deceitful_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_deceitful_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_humble_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_humble_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_arrogant_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_arrogant_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_just_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_just_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_arbitrary_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_arbitrary_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_patient_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_patient_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_impatient_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_impatient_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_temperate_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_temperate_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_gluttonous_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_gluttonous_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_trusting_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_trusting_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_paranoid_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_paranoid_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_zealous_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_zealous_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_cynical_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_cynical_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_compassionate_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_compassionate_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_callous_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_callous_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_sadistic_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_sadistic_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_trait_synergy_eccentric_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_trait_synergy_eccentric_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_battle_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_battle_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_enhanced_fatality_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_enhanced_fatality_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_hard_casualty_modifier_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_hard_casualty_modifier_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_hard_casualty_modifier_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_hard_casualty_modifier_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_dry_terrain_advantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_dry_terrain_advantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_forest_terrain_advantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_forest_terrain_advantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_water_magic_advantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_water_magic_advantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_water_magic_disadvantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_water_magic_disadvantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_sailing_magic_advantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_sailing_magic_advantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_sailing_magic_disadvantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_sailing_magic_disadvantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_slow_army_movement_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_slow_army_movement_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_movement_speed_positive_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_movement_speed_positive_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_hasten_raid_speed_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_hasten_raid_speed_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_rocky_terrain_advantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_rocky_terrain_advantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_negate_enemy_advantage_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_negate_enemy_advantage_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_knight_effectiveness_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_knight_effectiveness_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_army_damage_magic_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_army_damage_magic_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_army_damage_negative_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_army_damage_negative_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_army_toughness_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_army_toughness_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magi_siege_value_add_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magi_siege_value_add_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_siege_weapon_siege_value_add_magic_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_siege_weapon_siege_value_add_magic_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_abstruse_survivability_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_abstruse_survivability_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_men_at_arms_recruitment_cost_positive_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_men_at_arms_recruitment_cost_positive_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_siege_phase_time_positive_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_siege_phase_time_positive_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_attacker_advantage_positive_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_attacker_advantage_positive_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_dynasty_prestige_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_dynasty_prestige_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_dynasty_prestige_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_dynasty_prestige_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_income_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_income_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_income_gain_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_income_gain_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_income_loss_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_income_loss_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_piety_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_piety_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_piety_gain_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_piety_gain_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_piety_loss_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_piety_loss_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_prestige_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_prestige_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_prestige_gain_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_prestige_gain_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_prestige_loss_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_prestige_loss_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_omen_diplomacy_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_omen_diplomacy_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_omen_intrigue_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_omen_intrigue_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_omen_martial_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_omen_martial_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_omen_stewardship_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_omen_stewardship_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_omen_learning_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_omen_learning_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_genetics_positive_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_genetics_positive_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_magi_siege_value_add_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_magi_siege_value_add_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_character_monthly_county_control_growth_add_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_character_monthly_county_control_growth_add_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_character_capital_county_monthly_development_growth_add_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_character_capital_county_monthly_development_growth_add_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_character_build_speed_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_character_build_speed_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_tyranny_gain_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_tyranny_gain_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_tyranny_loss_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_tyranny_loss_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_tyranny_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_tyranny_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_tyranny_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_tyranny_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_cultural_head_fascination_add_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_cultural_head_fascination_add_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_cultural_head_fascination_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_cultural_head_fascination_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_unnatural_shaping_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_unnatural_shaping_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_boneshaping_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_boneshaping_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_defiled_nadir_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_defiled_nadir_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_frozen_experience_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_frozen_experience_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_arcane_incapacitation_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_arcane_incapacitation_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_mind_fog_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_mind_fog_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_life_extension_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_life_extension_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_arcane_degeneration_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_arcane_degeneration_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_bodily_modification_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_bodily_modification_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_levy_reinforcement_rate_gain_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_levy_reinforcement_rate_gain_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_enemy_hostile_scheme_phase_duration_add_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_enemy_hostile_scheme_phase_duration_add_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_enemy_hostile_scheme_phase_duration_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_enemy_hostile_scheme_phase_duration_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_scheme_discovery_chance_mult_loss_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_scheme_discovery_chance_mult_loss_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_prestige_gain_per_dread_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_prestige_gain_per_dread_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_dread_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_dread_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_monthly_lifestyle_xp_gain_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_monthly_lifestyle_xp_gain_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_intrigue_lifestyle_xp_gain_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_intrigue_lifestyle_xp_gain_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stewardship_lifestyle_xp_gain_mult_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stewardship_lifestyle_xp_gain_mult_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_diplomacy_lifestyle_xp_gain_mult_negative_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_diplomacy_lifestyle_xp_gain_mult_negative_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_martial_lifestyle_xp_gain_mult_negative_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_martial_lifestyle_xp_gain_mult_negative_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_stewardship_lifestyle_xp_gain_mult_negative_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_stewardship_lifestyle_xp_gain_mult_negative_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_intrigue_lifestyle_xp_gain_mult_negative_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_intrigue_lifestyle_xp_gain_mult_negative_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_learning_lifestyle_xp_gain_mult_negative_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_learning_lifestyle_xp_gain_mult_negative_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_magic_arcana_lifestyle_xp_gain_mult_negative_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_magic_arcana_lifestyle_xp_gain_mult_negative_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_shard_exhaustion_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_shard_exhaustion_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_communication_shards_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_communication_shards_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_artifact_modifier_title_creation_cost_mult_positive_modifier_artifact } }
				$TARGET_TYPE$ ?= flag:artifact
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_artifact_modifier_title_creation_cost_mult_positive_modifier_artifact TARGET = $TARGET$_artifact }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_archer_cavalry_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_archer_cavalry_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_archers_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_archers_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_camel_cavalry_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_camel_cavalry_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_elephant_cavalry_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_elephant_cavalry_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_heavy_cavalry_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_heavy_cavalry_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_light_cavalry_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_light_cavalry_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_heavy_infantry_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_heavy_infantry_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_pikemen_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_pikemen_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_skirmishers_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_skirmishers_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_siege_weapon_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_siege_weapon_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_flying_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_flying_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magi_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magi_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_adventurers_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_adventurers_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_chariot_cavalry_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_chariot_cavalry_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_monsters_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_monsters_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_undead_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_undead_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_constructs_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_constructs_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_ethereal_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_ethereal_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_nature_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_nature_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_water_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_water_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_air_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_air_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_stone_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_stone_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_fire_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_fire_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_ice_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_ice_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_metal_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_metal_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_sand_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_sand_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_light_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_light_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_blood_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_blood_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_death_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_death_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_dark_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_dark_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_celestial_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_celestial_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_dream_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_dream_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_time_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_time_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_hymns_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_hymns_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_character_modifier_magic_magical_dawn_improvement_add_modifier } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_character_modifier_magic_magical_dawn_improvement_add_modifier TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_magic_good } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_magic_good TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_magic_good } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_magic_good TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_wounded } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_wounded TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_wounded } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_wounded TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_disfigured } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_disfigured TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_disfigured } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_disfigured TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_ill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_ill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_ill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_ill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_pneumonic } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_pneumonic TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_pneumonic } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_pneumonic TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_great_pox } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_great_pox TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_great_pox } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_great_pox TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_early_great_pox } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_early_great_pox TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_early_great_pox } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_early_great_pox TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_lovers_pox } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_lovers_pox TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_lovers_pox } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_lovers_pox TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_leper } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_leper TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_leper } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_leper TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_cancer } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_cancer TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_cancer } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_cancer TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_typhus } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_typhus TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_typhus } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_typhus TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_smallpox } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_smallpox TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_smallpox } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_smallpox TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_measles } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_measles TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_measles } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_measles TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_dysentery } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_dysentery TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_dysentery } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_dysentery TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_bubonic_plague } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_bubonic_plague TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_bubonic_plague } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_bubonic_plague TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_incapable } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_incapable TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_incapable } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_incapable TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_infirm } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_infirm TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_infirm } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_infirm TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_lunatic_1 } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_lunatic_1 TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_lunatic_1 } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_lunatic_1 TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_depressed_1 } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_depressed_1 TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_depressed_1 } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_depressed_1 TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_depressed_genetic } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_depressed_genetic TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_depressed_genetic } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_depressed_genetic TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_blind } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_blind TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_blind } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_blind TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_drunkard } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_drunkard TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_drunkard } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_drunkard TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_gluttonous } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_gluttonous TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_gluttonous } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_gluttonous TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_lustful } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_lustful TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_lustful } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_lustful TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_gregarious } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_gregarious TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_gregarious } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_gregarious TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_hashishiyah } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_hashishiyah TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_hashishiyah } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_hashishiyah TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_gh_elementalist } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_gh_elementalist TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_gh_elementalist } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_gh_elementalist TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_lifestyle_physician } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_lifestyle_physician TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_lifestyle_physician } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_lifestyle_physician TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_possessed_1 } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_possessed_1 TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_possessed_1 } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_possessed_1 TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_gh_riftmark } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_gh_riftmark TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_trait_gh_riftmark } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_trait_gh_riftmark TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_scarred } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_scarred TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_lifestyle_physician } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_lifestyle_physician TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_lifestyle_reveler } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_lifestyle_reveler TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_fire } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_fire TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_water } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_water TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_air } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_air TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_stone } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_stone TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_dream } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_dream TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_dark } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_dark TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_ice } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_ice TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_death } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_death TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_blood } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_blood TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_sand } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_sand TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_metal } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_metal TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_ethereal } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_ethereal TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_celestial } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_celestial TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_nature } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_nature TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_dawn } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_dawn TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_hymns } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_hymns TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_time } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_time TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_elementalist_magical_light } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_elementalist_magical_light TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_gh_ritual_tattoos } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_gh_ritual_tattoos TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_trait_xp_lifestyle_mystic } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_trait_xp_lifestyle_mystic TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_horse_archers } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_horse_archers TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_cloud_riders } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_cloud_riders TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_oltenic_horse_archers } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_oltenic_horse_archers TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_undead_horse_archers } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_undead_horse_archers TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_bowmen } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_bowmen TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_camel_rider } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_camel_rider TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_war_elephant } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_war_elephant TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_armored_horsemen } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_armored_horsemen TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_light_horsemen } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_light_horsemen TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_armored_footmen } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_armored_footmen TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_pikemen_unit } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_pikemen_unit TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_light_footmen } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_light_footmen TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_onager } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_onager TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_griffon_riders } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_griffon_riders TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_magi_regular } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_magi_regular TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_adventurers } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_adventurers TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_war_chariots } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_war_chariots TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_fogbeasts } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_fogbeasts TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_blade_tendrils } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_blade_tendrils TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_marrowdrones } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_marrowdrones TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_hungering_mouths } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_hungering_mouths TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_chasm_terrors } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_chasm_terrors TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_enfleshed_grotesquerie } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_enfleshed_grotesquerie TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_lesser_voidspawns } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_lesser_voidspawns TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_archonarachs } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_archonarachs TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_woodland_hydra } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_woodland_hydra TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_elite_undead } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_elite_undead TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_undead_skirmishers } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_undead_skirmishers TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_undead_bowmen } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_undead_bowmen TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_siege_golems } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_siege_golems TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_stone_golems } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_stone_golems TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_magma_golems } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_magma_golems TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_ice_golems } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_ice_golems TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_bronze_golems } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_bronze_golems TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_metal_golems } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_metal_golems TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_spirit_regular } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_spirit_regular TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_ethereal_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_ethereal_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_nature_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_nature_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_vine_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_vine_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_leshens } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_leshens TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_water_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_water_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_air_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_air_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_lightning_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_lightning_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_stone_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_stone_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_mountain_spirit_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_mountain_spirit_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_fire_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_fire_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_ice_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_ice_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_metal_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_metal_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_quicksilver_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_quicksilver_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_sand_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_sand_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_desert_mirage_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_desert_mirage_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_dune_reaper_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_dune_reaper_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_light_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_light_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_seraph_melacham } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_seraph_melacham TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_blood_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_blood_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_death_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_death_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_dark_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_dark_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_night_gaunts } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_night_gaunts TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_celestial_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_celestial_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_dream_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_dream_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_time_elementals } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_time_elementals TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_elemental_choir } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_elemental_choir TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:spawn_army_epochal_riders } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = spawn_army_epochal_riders TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_diplomacy_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_diplomacy_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reduce_diplomacy_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reduce_diplomacy_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_intrigue_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_intrigue_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reduce_intrigue_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reduce_intrigue_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_stewardship_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_stewardship_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reduce_stewardship_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reduce_stewardship_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_martial_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_martial_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reduce_martial_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reduce_martial_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_learning_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_learning_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reduce_learning_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reduce_learning_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_prowess_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_prowess_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reduce_prowess_skill } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reduce_prowess_skill TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_fire } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_fire TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_water } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_water TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_ice } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_ice TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_air } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_air TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_stone } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_stone TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_dream } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_dream TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_celestial } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_celestial TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_dark } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_dark TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_light } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_light TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_blood } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_blood TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_nature } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_nature TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_ethereal } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_ethereal TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_hymns } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_hymns TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_death } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_death TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_sand } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_sand TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_metal } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_metal TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_time } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_time TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_aspect_dawn } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_aspect_dawn TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_diplomacy_lifestyle_xp } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_diplomacy_lifestyle_xp TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_intrigue_lifestyle_xp } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_intrigue_lifestyle_xp TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_martial_lifestyle_xp } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_martial_lifestyle_xp TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_stewardship_lifestyle_xp } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_stewardship_lifestyle_xp TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_learning_lifestyle_xp } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_learning_lifestyle_xp TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_arcana_lifestyle_xp } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_arcana_lifestyle_xp TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_mana_positive } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_mana_positive TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_gold_positive } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_gold_positive TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_gold_negative } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_gold_negative TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:stress_gain } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = stress_gain TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:stress_loss } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = stress_loss TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		20 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:death_effect } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = death_effect TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 100
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:improve_development } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 0
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 2
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = improve_development TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		10 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reduce_development } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 16
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 8
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reduce_development TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		10 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_arcane_fallout } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_arcane_fallout TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		10 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:remove_arcane_fallout } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = remove_arcane_fallout TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:resist_poison } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = resist_poison TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_magic_baseline_positive } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_magic_baseline_positive TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:learn_random_magic_school_spell } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = learn_random_magic_school_spell TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:damage_army } }
				$TARGET_TYPE$ ?= flag:county
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = damage_army TARGET = $TARGET$_title }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:education_lifestyle_xp_gain_mult_negative } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = education_lifestyle_xp_gain_mult_negative TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:knight_summons } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = knight_summons TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:improve_inspiration_quality } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = improve_inspiration_quality TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:dominate_character } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:fire
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:water
			}
			modifier = {
				add = {
					value = 10
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ice
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:air
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:stone
			}
			modifier = {
				add = {
					value = 20
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dream
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:celestial
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dark
			}
			modifier = {
				add = {
					value = 4
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:light
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:blood
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:nature
			}
			modifier = {
				add = {
					value = 15
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:ethereal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:hymns
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:death
			}
			modifier = {
				add = {
					value = 5
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:sand
			}
			modifier = {
				add = {
					value = 9
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:metal
			}
			modifier = {
				add = {
					value = 12
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:time
			}
			modifier = {
				add = {
					value = 7
					if = {
						limit = { exists = scope:aspect_alignment_strictness }
						multiply = scope:aspect_alignment_strictness
					}
				}
				exists = var:dawn
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = dominate_character TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_relevant_lifestyle_xp } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_relevant_lifestyle_xp TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_relevant_lifestyle_perk_points } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_relevant_lifestyle_perk_points TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:destroy_random_building } }
				$TARGET_TYPE$ ?= flag:province
				$BENEFICIALITY$ ?= flag:negative
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = destroy_random_building TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_spell_to_tattoo_list } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_spell_to_tattoo_list TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:destroy_sun } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = destroy_sun TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reduce_all_skills } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reduce_all_skills TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:rank_up_education_effect } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = rank_up_education_effect TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:reveal_secret } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = reveal_secret TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:freeze_target_character } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = freeze_target_character TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:create_skeletal_artifact } }
				$TARGET_TYPE$ ?= flag:spell_organizer
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = create_skeletal_artifact TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:dream_glimpse_reality } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = dream_glimpse_reality TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		1 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:add_education_progress } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = add_education_progress TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:initiate_interior_journey } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = initiate_interior_journey TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
		0 = {
			trigger = {
				NOT = { spell_has_tag_trigger = { NAME = flag:increase_raid_capture_improvement } }
				$TARGET_TYPE$ ?= flag:character
				$BENEFICIALITY$ ?= flag:positive
			}
			add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = increase_raid_capture_improvement TARGET = $TARGET$ }
			# Does the effect have a random chance of firing?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 30
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 15
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 5
						}
						if = {
							limit = { exists = var:ethereal }
							add = 10
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 5
						}
						if = {
							limit = { exists = var:dawn }
							add = 5
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				save_temporary_scope_value_as = {
					name = spell_effect_chance_iteration_scope
					value = {
						integer_range = {
							min = 5
							max = 25
						}
					}
				}
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance VALUE = scope:spell_effect_chance_scope }
				add_variable_to_last_created_spell_effect_tag = { VARIABLE_TYPE = spell_effect_chance_iteration VALUE = scope:spell_effect_chance_iteration_scope }
				# Reward the randomness by lowering the scalar threshold
				random_list = {
					1 = { }	# Nope
					2 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 1
							}
						}
					}
					1 = {
						scope:new_tag ?= {
							change_variable = {
								name = scalar_threshold
								subtract = 2
							}
						}
					}
				}
			}
			# Does the effect have a trait casting condition?
			random = {
				chance = {
					value = {
						value = 0
						if = {
							limit = { exists = var:fire }
							add = 5
						}
						if = {
							limit = { exists = var:water }
							add = 5
						}
						if = {
							limit = { exists = var:ice }
							add = 0
						}
						if = {
							limit = { exists = var:air }
							add = 0
						}
						if = {
							limit = { exists = var:stone }
							add = 5
						}
						if = {
							limit = { exists = var:dream }
							add = 15
						}
						if = {
							limit = { exists = var:celestial }
							add = 5
						}
						if = {
							limit = { exists = var:dark }
							add = 5
						}
						if = {
							limit = { exists = var:light }
							add = 5
						}
						if = {
							limit = { exists = var:blood }
							add = 5
						}
						if = {
							limit = { exists = var:nature }
							add = 15
						}
						if = {
							limit = { exists = var:ethereal }
							add = 15
						}
						if = {
							limit = { exists = var:hymns }
							add = 5
						}
						if = {
							limit = { exists = var:death }
							add = 5
						}
						if = {
							limit = { exists = var:sand }
							add = 5
						}
						if = {
							limit = { exists = var:metal }
							add = 5
						}
						if = {
							limit = { exists = var:time }
							add = 0
						}
						if = {
							limit = { exists = var:dawn }
							add = 0
						}
					}
				}
				pick_random_casting_condition_trait_to_last_created_spell_tag_effect = yes
			}
		}
	}
}

# Add a procedural spell effect tag
add_procedural_spell_effect_tag_to_last_created_spell_scripted_effect = {
	random_list = {
		0 = {
			trigger = {
				exists = var:fire
			}
			modifier = {
				add = var:fire
				exists = var:fire
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:fire THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:water
			}
			modifier = {
				add = var:water
				exists = var:water
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:water THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:ice
			}
			modifier = {
				add = var:ice
				exists = var:ice
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:ice THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:air
			}
			modifier = {
				add = var:air
				exists = var:air
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:air THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:stone
			}
			modifier = {
				add = var:stone
				exists = var:stone
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:stone THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:dream
			}
			modifier = {
				add = var:dream
				exists = var:dream
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:dream THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:celestial
			}
			modifier = {
				add = var:celestial
				exists = var:celestial
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:celestial THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:dark
			}
			modifier = {
				add = var:dark
				exists = var:dark
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:dark THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:light
			}
			modifier = {
				add = var:light
				exists = var:light
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:light THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:blood
			}
			modifier = {
				add = var:blood
				exists = var:blood
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:blood THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:nature
			}
			modifier = {
				add = var:nature
				exists = var:nature
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:nature THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:ethereal
			}
			modifier = {
				add = var:ethereal
				exists = var:ethereal
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:ethereal THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:hymns
			}
			modifier = {
				add = var:hymns
				exists = var:hymns
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:hymns THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:death
			}
			modifier = {
				add = var:death
				exists = var:death
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:death THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:sand
			}
			modifier = {
				add = var:sand
				exists = var:sand
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:sand THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:metal
			}
			modifier = {
				add = var:metal
				exists = var:metal
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:metal THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:time
			}
			modifier = {
				add = var:time
				exists = var:time
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:time THRESHOLD = 0 }
		}
		0 = {
			trigger = {
				exists = var:dawn
			}
			modifier = {
				add = var:dawn
				exists = var:dawn
			}
			add_spell_effect_tag_to_last_created_spell_scripted_effect = { NAME = $NAME$ TARGET = $TARGET$ SCALED_BY = flag:dawn THRESHOLD = 0 }
		}
	}
}

pick_random_casting_condition_trait_to_last_created_spell_tag_effect = {
	random_list = {
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:fire
			}
			random_list = {
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gluttonous
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:compassionate
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:forgiving
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gregarious
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:wrathful
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:impatient
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:arbitrary
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:vengeful
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lustful
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:sadistic
						}
					}
				}
				5 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_dragon_red
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:water
			}
			random_list = {
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:greedy
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:forgiving
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:arbitrary
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gluttonous
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:callous
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:diligent
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lustful
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:fickle
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:patient
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:impatient
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gregarious
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:sadistic
						}
					}
				}
				5 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_dragon_blue
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:generous
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:ice
			}
			random_list = {
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lazy
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:callous
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:content
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:patient
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:stubborn
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:humble
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:air
			}
			random_list = {
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:patient
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:content
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:calm
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:trusting
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:generous
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:temperate
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:shy
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:humble
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:chaste
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:craven
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:stone
			}
			random_list = {
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:brave
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:stubborn
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:diligent
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:compassionate
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:forgiving
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:impatient
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:greedy
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:dream
			}
			random_list = {
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_beset_by_visions
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lunatic_1
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lunatic_genetic
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:paranoid
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:patient
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:ambitious
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:eccentric
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:sadistic
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:trusting
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:celestial
			}
			random_list = {
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_aervalrian_curse
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:scholar
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:temperate
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_1
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_2
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_3
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_4
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_5
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_6
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_7
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_8
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_9
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_10
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_11
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_12
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_13
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_14
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_15
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_16
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_17
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_18
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_19
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:magic_good_20
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:dark
			}
			random_list = {
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:deceitful
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:arbitrary
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:cynical
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:torturer
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:shy
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:craven
						}
					}
				}
				5 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_dragon_black
						}
					}
				}
				6 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_blackspawn_1
						}
					}
				}
				8 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_blackspawn_2
						}
					}
				}
				10 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_blackspawn_3
						}
					}
				}
				12 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_blackspawn_4
						}
					}
				}
				14 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_blackspawn_5
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:light
			}
			random_list = {
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:theologian
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lifestyle_mystic
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:honest
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:just
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:arrogant
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:zealous
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:trusting
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:generous
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:temperate
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:chaste
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:blood
			}
			random_list = {
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_power_bleeder
						}
					}
				}
				1 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lifestyle_reveler
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:seducer
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:torturer
						}
					}
				}
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lifestyle_physician
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:nature
			}
			random_list = {
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lifestyle_hunter
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lifestyle_herbalist
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lifestyle_gardener
						}
					}
				}
				5 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_dragon_green
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:lifestyle_one_with_nature
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:ethereal
			}
			random_list = {
				3 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_racked_by_voices
						}
					}
				}
				2 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_riftsight_1
						}
					}
				}
				4 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_riftsight_2
						}
					}
				}
				6 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_riftsight_3
						}
					}
				}
				8 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_riftsight_4
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:hymns
			}
			random_list = {
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:death
			}
			random_list = {
				6 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:education_lich_1
						}
					}
				}
				8 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:education_lich_2
						}
					}
				}
				10 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:education_lich_3
						}
					}
				}
				12 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:education_lich_4
						}
					}
				}
				14 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:education_lich_5
						}
					}
				}
				18 = {
					scope:new_tag ?= {
						add_to_variable_list = {
							name = activation_condition_list
							target = flag:trait
						}
						set_variable = {
							name = activation_condition_trait
							value = trait:gh_arch_lich_1
						}
					}
				}
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:sand
			}
			random_list = {
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:metal
			}
			random_list = {
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:time
			}
			random_list = {
			}
		}
		1 = {
			modifier = {	# Theoretically can take from any aspect trait-set, but overwhelmingly more likely for aspects actually present in the spell
				add = 10
				exists = var:dawn
			}
			random_list = {
			}
		}
	}
}