
######################
# MAGICAL THRESHOLDS #
######################

# Magic Baseline

base_magic_baseline_add = 10
magic_good_1_magic_baseline_add = 25
magic_good_2_magic_baseline_add = 50
magic_good_3_magic_baseline_add = 75
magic_good_4_magic_baseline_add = 100
magic_good_5_magic_baseline_add = 125
magic_good_6_magic_baseline_add = 150
magic_good_7_magic_baseline_add = 175
magic_good_8_magic_baseline_add = 200
magic_good_9_magic_baseline_add = 225
magic_good_10_magic_baseline_add = 250
magic_good_11_magic_baseline_add = 275
magic_good_12_magic_baseline_add = 300
magic_good_13_magic_baseline_add = 325
magic_good_14_magic_baseline_add = 350
magic_good_15_magic_baseline_add = 375
magic_good_16_magic_baseline_add = 400
magic_good_17_magic_baseline_add = 425
magic_good_18_magic_baseline_add = 450
magic_good_19_magic_baseline_add = 475
magic_good_20_magic_baseline_add = 500

character_magic_baseline_value = {
	if = {
		limit = { has_trait = magic_good }
		if = {
			limit = { has_trait = magic_good_1 }
			add = {
				value = magic_good_1_magic_baseline_add
				desc = "[GetTrait('magic_good_1').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_2 }
			add = {
				value = magic_good_2_magic_baseline_add
				desc = "[GetTrait('magic_good_2').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_3 }
			add = {
				value = magic_good_3_magic_baseline_add
				desc = "[GetTrait('magic_good_3').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_4 }
			add = {
				value = magic_good_4_magic_baseline_add
				desc = "[GetTrait('magic_good_4').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_5 }
			add = {
				value = magic_good_5_magic_baseline_add
				desc = "[GetTrait('magic_good_5').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_6 }
			add = {
				value = magic_good_6_magic_baseline_add
				desc = "[GetTrait('magic_good_6').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_7 }
			add = {
				value = magic_good_7_magic_baseline_add
				desc = "[GetTrait('magic_good_7').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_8 }
			add = {
				value = magic_good_8_magic_baseline_add
				desc = "[GetTrait('magic_good_8').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_9 }
			add = {
				value = magic_good_9_magic_baseline_add
				desc = "[GetTrait('magic_good_9').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_10 }
			add = {
				value = magic_good_10_magic_baseline_add
				desc = "[GetTrait('magic_good_10').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_11 }
			add = {
				value = magic_good_11_magic_baseline_add
				desc = "[GetTrait('magic_good_11').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_12 }
			add = {
				value = magic_good_12_magic_baseline_add
				desc = "[GetTrait('magic_good_12').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_13 }
			add = {
				value = magic_good_13_magic_baseline_add
				desc = "[GetTrait('magic_good_13').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_14 }
			add = {
				value = magic_good_14_magic_baseline_add
				desc = "[GetTrait('magic_good_14').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_15 }
			add = {
				value = magic_good_15_magic_baseline_add
				desc = "[GetTrait('magic_good_15').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_16 }
			add = {
				value = magic_good_16_magic_baseline_add
				desc = "[GetTrait('magic_good_16').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_17 }
			add = {
				value = magic_good_17_magic_baseline_add
				desc = "[GetTrait('magic_good_17').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_18 }
			add = {
				value = magic_good_18_magic_baseline_add
				desc = "[GetTrait('magic_good_18').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_19 }
			add = {
				value = magic_good_19_magic_baseline_add
				desc = "[GetTrait('magic_good_19').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		else_if = {
			limit = { has_trait = magic_good_20 }
			add = {
				value = magic_good_20_magic_baseline_add
				desc = "[GetTrait('magic_good_20').GetName( GetNullCharacter )]"
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
	}
	else = {
		add = {
			value = base_magic_baseline_add
			desc = base_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			is_lowborn = no
			dynasty = { has_dynasty_perk = magic_legacy_2 }
		}
		multiply = {
			value = 1.25
			desc = magic_legacy_2_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = { exists = var:magic_baseline_add }
		add = {
			value = var:magic_baseline_add
			desc = base_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
}

character_magic_baseline_income_value = {
	value = character_magic_baseline_value
	multiply = character_magic_regeneration_ratio_value
}

# Extended Magic Baseline

artifact_lich_king_ring_add = 100
artifact_aversarian_crown_add = 50
artifact_abyssal_prism_large_add = 100 ## Will create charged prism with high baseline for post sundeath.
artifact_abyssal_prism_small_add = 25

wayline_modifier_add = 50
wayline_intersection_modifier_add = 100
aervalr_debris_field_add = 25

building_01_thesorrowfield_add = 50
building_01_sunkentower_add = 150
building_01_gehazetower_add = 150
building_01_oltenictower_add = 150
building_01_easterntower_add = 150
building_01_westtower_add = 150
building_01_amagheantower_add = 150
building_01_kashiryatower_add = 150
building_01_frozentower_add = 150
building_01_mayikprolollan_add = 150
building_01_westerncabal_add = 100
building_01_easterncabal_add = 100 
building_01_wehydkaha_add = 100
building_01_palaceofthewizardking_add = 50 
building_02_palaceofthewizardking_add = 50
building_01_tenenae_add = 100
building_01_firstshard_add = 50 
building_01_special_aervalr_shard_add = 10  
building_02_special_aervalr_shard_add = 20
building_03_special_aervalr_shard_add = 30
building_04_special_aervalr_shard_add = 40
building_magi_tower_01_add = 10
building_magi_tower_02_add = 20
building_01_special_bloodcrystal_add = 10
building_02_special_bloodcrystal_add = 20
building_03_special_bloodcrystal_add = 30
building_04_special_bloodcrystal_add = 40
building_01_thebloodyard_add = 20
building_02_thebloodyard_add = 40
building_01_harekana_observatory_add = 40 
building_01_candamarun_academy_add = 40
building_01_haryaadad_academy_add = 60
building_01_portacademy_add = 30
building_01_academyofswords_add = 30
building_01_aironoiakaan_add = 20
building_02_aironoiakaan_add = 50
building_01_benoriya_atawek_add = 20
building_02_benoriya_atawek_add = 50
building_dark_obelisk_01_add = 10
building_dark_obelisk_02_add = 20
building_dark_obelisk_03_add = 30
building_dark_obelisk_04_add = 40
building_dark_obelisk_05_add = 50
building_dark_obelisk_06_add = 60
building_dark_obelisk_07_add = 70
building_dark_obelisk_08_add = 80
building_01_halite_temple_add = 25 
building_02_halite_temple_add = 50 

magic_legacy_1_add = 50

magic_vision_add = 50
great_magic_vision_add = 100

power_from_unwashed_masses_per_tier_add = 25
places_of_power_modifier_add = 100
cognition_perk2_tree2_value = 50


character_extended_magic_baseline_value = {
	value = 0
	add = {
		value = character_magic_baseline_value
		desc = character_extended_magic_baseline_base_desc
		format = "MAGIC_BASELINE_VALUE_FORMAT"
	}
	if = { # Character Bonuses
		limit = { has_character_modifier = magic_vision }
		add = {
			value = magic_vision_add
			desc = magic_vision_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	else_if = {
		limit = { has_character_modifier = great_magic_vision }
		add = {
			value = great_magic_vision_add
			desc = great_magic_vision_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	#Perks
	if = { #Meditative Trance - arcana_actuation_perk3_tree1		
		limit = { 
			has_perk = arcana_actuation_perk3_tree1
			is_playable_character = yes
		}
		if = {
			limit = {
				highest_held_title_tier = tier_county
			}
			add = {
				value = power_from_unwashed_masses_per_tier_add
				desc = power_from_unwashed_masses_per_tier_desc
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		if = {
			limit = {
				highest_held_title_tier = tier_duchy
			}
			add = {
				value = power_from_unwashed_masses_per_tier_add
				multiply = 2
				desc = power_from_unwashed_masses_per_tier_desc
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
			desc = power_from_unwashed_masses_per_tier_desc
		}
		if = {
			limit = {
				highest_held_title_tier = tier_kingdom
			}
			add = {
				value = power_from_unwashed_masses_per_tier_add
				multiply = 3
				desc = power_from_unwashed_masses_per_tier_desc
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
		if = {
			limit = {
				highest_held_title_tier >= tier_empire
			}
			add = {
				value = power_from_unwashed_masses_per_tier_add
				multiply = 4
				desc = power_from_unwashed_masses_per_tier_desc
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
	}
	if = { # Artifact Bonuses
		limit = {
			any_equipped_character_artifact = {
				has_variable = wealth
				OR = {
					has_artifact_feature_group = bone_dagger_type
					has_artifact_feature_group = bone_staff_type
					has_artifact_feature_group = bone_crown_type
					has_artifact_feature_group = bone_regalia_type
				}
			}
		}
		add = {
			value = {
				value = 0
				every_equipped_character_artifact = {
					limit = {
						has_variable = wealth
						OR = {
						has_artifact_feature_group = bone_dagger_type
						has_artifact_feature_group = bone_staff_type
						has_artifact_feature_group = bone_crown_type
						has_artifact_feature_group = bone_regalia_type
						}
					}
				add = crafted_bone_artifact_value
				}
			}
			desc = bone_artifact_magic_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	add = {
		value = {
			value = 0
			every_equipped_character_artifact = {
				limit = {
					exists = var:extended_baseline
				}
				add = var:extended_baseline
			}
		}
		desc = artifacts_value_desc
		format = "MAGIC_BASELINE_VALUE_FORMAT"
	}
	if = { # Court Magi Bonus
		limit = {
			exists = cp:councillor_court_magi
			cp:councillor_court_magi = { is_performing_council_task = task_court_magi_boost_magic_power }
		}
		add = {
			value = { value = cp:councillor_court_magi.task_court_magi_boost_power_value  }
			desc = task_court_magi_boost_power_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}

	# Special Buildings

	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_thesorrowfield }
		}
		add = {
			value = building_01_thesorrowfield_add
			desc = 01_thesorrowfield_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_sunkentower }
		}
		add = {
			value = building_01_sunkentower_add
			desc = 01_sunkentower_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_gehazetower }
		}
		add = {
			value = building_01_gehazetower_add
			desc = 01_gehazetower_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_oltenictower }
		}
		add = {
			value = building_01_oltenictower_add
			desc = 01_oltenictower_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_easterntower }
		}
		add = {
			value = building_01_easterntower_add
			desc = 01_easterntower_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_westtower }
		}
		add = {
			value = building_01_westtower_add
			desc = 01_westtower_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_amagheantower }
		}
		add = {
			value = building_01_amagheantower_add
			desc = 01_amagheantower_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_kashiryatower }
		}
		add = {
			value = building_01_kashiryatower_add
			desc = 01_kashiryatower_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_frozentower }
		}
		add = {
			value = building_01_frozentower_add
			desc = 01_frozentower_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_mayikprolollan }
		}
		add = {
			value = building_01_mayikprolollan_add
			desc = 01_mayikprolollan_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_westerncabal }
		}
		add = {
			value = building_01_westerncabal_add
			desc = 01_westerncabal_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_easterncabal }
		}
		add = {
			value = building_01_easterncabal_add
			desc = 01_easterncabal_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_wehydkaha }
		}
		add = {
			value = building_01_wehydkaha_add
			desc = 01_wehydkaha_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_palaceofthewizardking }
		}
		add = {
			value = building_01_palaceofthewizardking_add
			desc = 01_palaceofthewizardking_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 02_palaceofthewizardking }
		}
		add = {
			value = building_02_palaceofthewizardking_add
			desc = 02_palaceofthewizardking_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_tenenae }
		}
		add = {
			value = building_01_tenenae_add
			desc = 01_tenenae_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_firstshard }
		}
		add = {
			value = building_01_firstshard_add
			desc = 01_firstshard_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_special_aervalr_shard }
		}
		add = {
			value = building_01_special_aervalr_shard_add
			desc = 01_special_aervalr_shard_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 02_special_aervalr_shard }
		}
		add = {
			value = building_02_special_aervalr_shard_add
			desc = 02_special_aervalr_shard_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 03_special_aervalr_shard }
		}
		add = {
			value = building_03_special_aervalr_shard_add
			desc = 03_special_aervalr_shard_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 04_special_aervalr_shard }
		}
		add = {
			value = building_04_special_aervalr_shard_add
			desc = 04_special_aervalr_shard_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = magi_tower_01 }
		}
		add = {
			value = building_magi_tower_01_add
			desc = magi_tower_01_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = magi_tower_02 }
		}
		add = {
			value = building_magi_tower_02_add
			desc = magi_tower_02_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_special_bloodcrystal }
		}
		add = {
			value = building_01_special_bloodcrystal_add
			desc = 01_special_bloodcrystal_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 02_special_bloodcrystal }
		}
		add = {
			value = building_02_special_bloodcrystal_add
			desc = 02_special_bloodcrystal_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 03_special_bloodcrystal }
		}
		add = {
			value = building_03_special_bloodcrystal_add
			desc = 03_special_bloodcrystal_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 04_special_bloodcrystal }
		}
		add = {
			value = building_04_special_bloodcrystal_add
			desc = 04_special_bloodcrystal_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_thebloodyard }
		}
		add = {
			value = tyranny
			multiply = 0.2
			desc = thebloodyard_tyranny_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 02_thebloodyard }
		}
		add = {
			value = tyranny
			multiply = 0.4
			desc = thebloodyard_tyranny_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_harekana_observatory }
		}
		add = {
			value = building_01_harekana_observatory_add
			desc = 01_harekana_observatory_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_candamarun_academy }
		}
		add = {
			value = building_01_candamarun_academy_add
			desc = 01_candamarun_academy_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_haryaadad_academy }
		}
		add = {
			value = building_01_haryaadad_academy_add
			desc = 01_haryaadad_academy_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_academyofswords }
		}
		add = {
			value = building_01_academyofswords_add
			desc = 01_academyofswords_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_portacademy }
		}
		add = {
			value = building_01_portacademy_add
			desc = 01_portacademy_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 01_aironoiakaan }
		}
		add = {
			value = building_01_aironoiakaan_add
			desc = 01_aironoiakaan_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = 02_aironoiakaan }
		}
		add = {
			value = building_02_aironoiakaan_add
			desc = 02_aironoiakaan_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = dark_obelisk_01 }
		}
		add = {
			value = building_dark_obelisk_01_add
			desc = dark_obelisk_01_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = dark_obelisk_02 }
		}
		add = {
			value = building_dark_obelisk_02_add
			desc = dark_obelisk_02_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			any_directly_owned_province = { has_building = dark_obelisk_03 }
		}
		add = {
			value = building_dark_obelisk_03_add
			desc = dark_obelisk_03_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}	
	if = {
		limit = {
			any_directly_owned_province = { has_building = dark_obelisk_04 }
		}
		add = {
			value = building_dark_obelisk_04_add
			desc = dark_obelisk_04_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}	
	if = {
		limit = {
			any_directly_owned_province = { has_building = dark_obelisk_05 }
		}
		add = {
			value = building_dark_obelisk_05_add
			desc = dark_obelisk_05_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}	
	if = {
		limit = {
			any_directly_owned_province = { has_building = dark_obelisk_06 }
		}
		add = {
			value = building_dark_obelisk_06_add
			desc = dark_obelisk_06_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}	
	if = {
		limit = {
			any_directly_owned_province = { has_building = dark_obelisk_07 }
		}
		add = {
			value = building_dark_obelisk_07_add
			desc = dark_obelisk_07_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}	
	if = {
		limit = {
			any_directly_owned_province = { has_building = dark_obelisk_08 }
		}
		add = {
			value = building_dark_obelisk_08_add
			desc = dark_obelisk_08_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = { any_directly_owned_province = { has_building = 01_halite_temple } }
		add = {
			value = building_01_halite_temple_add
			desc = 01_halite_temple_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = { any_directly_owned_province = { has_building = 02_halite_temple } }
		add = {
			value = building_02_halite_temple_add
			desc = 02_halite_temple_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
	if = {
		limit = {
			capital_county = { has_county_modifier = wayline_modifier }	
		}
		add = {
			value = wayline_modifier_add
			desc = wayline_modifier_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
		if = {
			limit = { has_perk = arcana_cognition_perk2_tree2 }
			add = {
				value = cognition_perk2_tree2_value
				desc = places_of_power_value_desc
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
	}
	if = {
		limit = {
			capital_county = { has_county_modifier = wayline_intersection_modifier }
		}
		add = {
			value = wayline_intersection_modifier_add
			desc = wayline_intersection_modifier_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
		if = {
			limit = { has_perk = arcana_cognition_perk2_tree2 }
			add = {
				value = cognition_perk2_tree2_value
				desc = places_of_power_value_desc
				format = "MAGIC_BASELINE_VALUE_FORMAT"
			}
		}
	}
	if = {
		limit = {
			capital_county = { has_county_modifier = aervalr_debris_field }
		}
		add = {
			value = aervalr_debris_field_add
			desc = aervalr_debris_field_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}


	if = {
		limit = {
			exists = dynasty
			dynasty = { has_dynasty_perk = magic_legacy_1 }
		}
		add = {
			value = magic_legacy_1_add
			desc = magic_legacy_1_value_desc
			format = "MAGIC_BASELINE_VALUE_FORMAT"
		}
	}
}

# Monthly Regeneration

character_magic_regeneration_ratio_value = {
	value = character_magic_regeneration_ratio_percentage_value
	multiply = 0.01
}

character_magic_regeneration_ratio_percentage_value = {
	value = 0
	add = {
		value = 5
		desc = character_magic_regeneration_ratio_base_desc
		format = "MANA_REGENERATION_VALUE_FORMAT_POS"
	}
	if = {
		limit = { 
			location.county ?= { has_county_modifier = antimagic_field } 
		}
		subtract = {
			value = 5
			desc = character_magic_antimagic_1_regeneration_ratio_base_desc
			format = "MANA_REGENERATION_VALUE_FORMAT_NEG"
		}
	}
	if = {
		limit = { 
			location.county ?= { has_county_modifier = antimagic_field_2 } 
		}
		subtract = {
			value = 4
			desc = character_magic_antimagic_2_regeneration_ratio_base_desc
			format = "MANA_REGENERATION_VALUE_FORMAT_NEG"
		}
	}
	if = {
		limit = { 
			location.county ?= { has_county_modifier = antimagic_field_3 } 
		}
		subtract = {
			value = 3
			desc = character_magic_antimagic_3_regeneration_ratio_base_desc
			format = "MANA_REGENERATION_VALUE_FORMAT_NEG"
		}
	}
	if = {
		limit = { 
			location.county ?= { has_county_modifier = antimagic_field_4 } 
		}
		subtract = {
			value = 2
			desc = character_magic_antimagic_4_regeneration_ratio_base_desc
			format = "MANA_REGENERATION_VALUE_FORMAT_NEG"
		}
	}
	if = {
		limit = {
			capital_county ?= { has_county_modifier = wayline_modifier }
			has_perk = arcana_cognition_perk7_tree2
		}
		add = {
			value = 0.5
			desc = pareidolic_absorption_value_desc
			format = "MANA_REGENERATION_VALUE_FORMAT_POS"
		}
	}
	if = {
		limit = {
			capital_county ?= { has_county_modifier = wayline_intersection_modifier }
			has_perk = arcana_cognition_perk7_tree2
		}
		add = {
			value = 0.5
			desc = pareidolic_absorption_value_desc
			format = "MANA_REGENERATION_VALUE_FORMAT_POS"
		}
	}
	if = {
		limit = {
			has_focus = arcana_cognition_focus
		}
		multiply = {
			value = 1.25
			desc = arcana_cognition_focus_value_desc
			format = "MANA_REGENERATION_VALUE_FORMAT_POS"
		}
	}
	if = {
		limit = {
			has_trait = gh_transmuturgist
		}
		multiply = {
			value = 1.2
			desc = arcana_transmuturgist_value_desc
			format = "MANA_REGENERATION_VALUE_FORMAT_POS"
		}
	}
	add = {
		value = {
			value = 0
			every_equipped_character_artifact = {
				limit = {
					exists = var:artifact_magic_regeneration
				}
				add = var:artifact_magic_regeneration
			}
		}
		desc = artifacts_value_desc
		format = "SPELLCASTING_ABILITY_VALUE_FORMAT_POS"
	}
}

# Artifact Values

crafted_bone_artifact_value = {
	value = 1
	add = {
		value = var:wealth
	}
}

# Court Magi Value

task_court_magi_boost_power_value = {
	value = character_magic_baseline_value
	divide = 5
}

########################
# SPELLCASTING ABILITY #
########################

magic_spellcasting_value_1 = 1
magic_spellcasting_value_2 = 2
magic_spellcasting_value_3 = 3
magic_spellcasting_value_4 = 4
magic_spellcasting_value_5 = 5
arcana_erudition_lifestyle_perk8_add = 3

spellcasting_value = {
	value = 0
	if = {
		limit = { fire_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = fire_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { fire_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = fire_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { fire_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = fire_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { fire_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = fire_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { fire_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = fire_aspect_skill_value_desc
		}
	}
	if = {
		limit = { water_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = water_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { water_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = water_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { water_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = water_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { water_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = water_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { water_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = water_aspect_skill_value_desc
		}
	}
	if = {
		limit = { ice_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = ice_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { ice_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = ice_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { ice_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = ice_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { ice_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = ice_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { ice_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = ice_aspect_skill_value_desc
		}
	}
	if = {
		limit = { air_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = air_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { air_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = air_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { air_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = air_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { air_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = air_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { air_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = air_aspect_skill_value_desc
		}
	}	
	if = {
		limit = { stone_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = stone_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { stone_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = stone_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { stone_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = stone_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { stone_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = stone_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { stone_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = stone_aspect_skill_value_desc
		}
	}
	if = {
		limit = { dream_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = dream_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dream_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = dream_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dream_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = dream_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dream_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = dream_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dream_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = dream_aspect_skill_value_desc
		}
	}
	if = {
		limit = { celestial_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = celestial_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { celestial_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = celestial_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { celestial_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = celestial_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { celestial_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = celestial_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { celestial_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = celestial_aspect_skill_value_desc
		}
	}
	if = {
		limit = { dark_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = dark_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dark_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = dark_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dark_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = dark_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dark_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = dark_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dark_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = dark_aspect_skill_value_desc
		}
	}
	if = {
		limit = { light_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = light_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { light_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = light_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { light_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = light_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { light_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = light_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { light_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = light_aspect_skill_value_desc
		}
	}
	if = {
		limit = { blood_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = blood_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { blood_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = blood_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { blood_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = blood_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { blood_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = blood_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { blood_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = blood_aspect_skill_value_desc
		}
	}
	if = {
		limit = { nature_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = nature_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { nature_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = nature_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { nature_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = nature_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { nature_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = nature_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { nature_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = nature_aspect_skill_value_desc
		}
	}
	if = {
		limit = { ethereal_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = ethereal_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { ethereal_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = ethereal_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { ethereal_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = ethereal_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { ethereal_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = ethereal_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { ethereal_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = ethereal_aspect_skill_value_desc
		}
	}
	if = {
		limit = { hymns_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = hymns_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { hymns_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = hymns_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { hymns_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = hymns_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { hymns_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = hymns_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { hymns_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = hymns_aspect_skill_value_desc
		}
	}
	if = {
		limit = { death_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = death_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { death_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = death_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { death_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = death_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { death_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = death_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { death_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = death_aspect_skill_value_desc
		}
	}
	if = {
		limit = { sand_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = sand_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { sand_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = sand_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { sand_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = sand_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { sand_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = sand_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { sand_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = sand_aspect_skill_value_desc
		}
	}
	if = {
		limit = { metal_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = metal_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { metal_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = metal_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { metal_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = metal_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { metal_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = metal_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { metal_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = metal_aspect_skill_value_desc
		}
	}
	if = {
		limit = { time_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = time_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { time_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = time_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { time_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = time_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { time_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = time_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { time_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = time_aspect_skill_value_desc
		}
	}
	if = {
		limit = { dawn_aspect_skill_trigger = { VALUE = 25 } }
		add = {
			value = magic_spellcasting_value_5
			desc = dawn_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dawn_aspect_skill_trigger = { VALUE = 20 } }
		add = {
			value = magic_spellcasting_value_4
			desc = dawn_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dawn_aspect_skill_trigger = { VALUE = 15 } }
		add = {
			value = magic_spellcasting_value_3
			desc = dawn_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dawn_aspect_skill_trigger = { VALUE = 10 } }
		add = {
			value = magic_spellcasting_value_2
			desc = dawn_aspect_skill_value_desc
		}
	}
	else_if = {
		limit = { dawn_aspect_skill_trigger = { VALUE = 5 } }
		add = {
			value = magic_spellcasting_value_1
			desc = dawn_aspect_skill_value_desc
		}
	}
	if = {
		limit = { has_perk = arcana_actuation_perk6_tree1 }
		add = {
			value = arcana_erudition_lifestyle_perk8_add
			desc = arcana_actuation_perk6_tree1_value_desc
		}
	}
}

#################
# MAGIC PROWESS #
#################

magic_good_1_magic_prowess_add = 2
magic_good_2_magic_prowess_add = 4
magic_good_3_magic_prowess_add = 6
magic_good_4_magic_prowess_add = 8
magic_good_5_magic_prowess_add = 10
magic_good_6_magic_prowess_add = 12
magic_good_7_magic_prowess_add = 14
magic_good_8_magic_prowess_add = 16
magic_good_9_magic_prowess_add = 18
magic_good_10_magic_prowess_add = 20
magic_good_11_magic_prowess_add = 22
magic_good_12_magic_prowess_add = 24
magic_good_13_magic_prowess_add = 26
magic_good_14_magic_prowess_add = 28
magic_good_15_magic_prowess_add = 30
magic_good_16_magic_prowess_add = 32
magic_good_17_magic_prowess_add = 34
magic_good_18_magic_prowess_add = 36
magic_good_19_magic_prowess_add = 38
magic_good_20_magic_prowess_add = 40

arcana_actuation_magic_prowess_add = 3
gh_transmuturgist_magic_prowess_add = 5
gh_transmuturgist_mana_regeneration_mult = 20
gh_one_handed_magic_prowess_add = -5

gh_blackspawn_1_magic_prowess_add = 2
gh_blackspawn_2_magic_prowess_add = 4
gh_blackspawn_3_magic_prowess_add = 6
gh_blackspawn_4_magic_prowess_add = 8
gh_blackspawn_5_magic_prowess_add = 10

magic_prowess_value = {
	value = 0
	
	if = {
		limit = {
			is_alive = yes
			can_access_magic = yes
		}
		if = {
			limit = { has_trait = magic_good }
			if = {
				limit = { has_trait = magic_good_1 }
				add = {
					value = magic_good_1_magic_prowess_add
					desc = magic_good_1_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_2 }
				add = {
					value = magic_good_2_magic_prowess_add
					desc = magic_good_2_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_3 }
				add = {
					value = magic_good_3_magic_prowess_add
					desc = magic_good_3_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_4 }
				add = {
					value = magic_good_4_magic_prowess_add
					desc = magic_good_4_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_5 }
				add = {
					value = magic_good_5_magic_prowess_add
					desc = magic_good_5_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_6 }
				add = {
					value = magic_good_6_magic_prowess_add
					desc = magic_good_6_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_7 }
				add = {
					value = magic_good_7_magic_prowess_add
					desc = magic_good_7_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_8 }
				add = {
					value = magic_good_8_magic_prowess_add
					desc = magic_good_8_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_9 }
				add = {
					value = magic_good_9_magic_prowess_add
					desc = magic_good_9_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_10 }
				add = {
					value = magic_good_10_magic_prowess_add
					desc = magic_good_10_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_11 }
				add = {
					value = magic_good_11_magic_prowess_add
					desc = magic_good_11_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_12 }
				add = {
					value = magic_good_12_magic_prowess_add
					desc = magic_good_12_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_13 }
				add = {
					value = magic_good_13_magic_prowess_add
					desc = magic_good_13_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_14 }
				add = {
					value = magic_good_14_magic_prowess_add
					desc = magic_good_14_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_15 }
				add = {
					value = magic_good_15_magic_prowess_add
					desc = magic_good_15_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_16 }
				add = {
					value = magic_good_16_magic_prowess_add
					desc = magic_good_16_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_17 }
				add = {
					value = magic_good_17_magic_prowess_add
					desc = magic_good_17_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_18 }
				add = {
					value = magic_good_18_magic_prowess_add
					desc = magic_good_18_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_19 }
				add = {
					value = magic_good_19_magic_prowess_add
					desc = magic_good_19_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			else_if = {
				limit = { has_trait = magic_good_20 }
				add = {
					value = magic_good_20_magic_prowess_add
					desc = magic_good_20_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			if = {
				limit = { has_trait = gh_transmuturgist }
				add = {
					value = gh_transmuturgist_magic_prowess_add
					desc = gh_transmuturgist_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			if = {
				limit = { has_trait = gh_one_handed }
				add = {
					value = gh_one_handed_magic_prowess_add
					desc = gh_one_handed_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			if = {
				limit = { has_perk = arcana_actuation_perk1_tree1 }
				add = {
					value = arcana_actuation_magic_prowess_add
					desc = arcana_actuation_magic_prowess_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			if = {
				limit = { has_trait = gh_blackspawn_1 }
				add = {
					value = gh_blackspawn_1_magic_prowess_add
					desc = gh_blackspawn_1_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			if = {
				limit = { has_trait = gh_blackspawn_2 }
				add = {
					value = gh_blackspawn_2_magic_prowess_add
					desc = gh_blackspawn_2_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			if = {
				limit = { has_trait = gh_blackspawn_3 }
				add = {
					value = gh_blackspawn_3_magic_prowess_add
					desc = gh_blackspawn_3_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			if = {
				limit = { has_trait = gh_blackspawn_4 }
				add = {
					value = gh_blackspawn_4_magic_prowess_add
					desc = gh_blackspawn_4_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
			if = {
				limit = { has_trait = gh_blackspawn_5 }
				add = {
					value = gh_blackspawn_5_magic_prowess_add
					desc = gh_blackspawn_5_value_desc
					format = "MAGIC_PROWESS_VALUE_FORMAT"
				}
			}
		}
	}
	
	floor = yes
}

pure_prowess_value = {
	value = prowess
	subtract = magic_prowess_value
	min = 0
}